(this["webpackJsonpdugout-companion"]=this["webpackJsonpdugout-companion"]||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var r,a,c,i,o,s,l,u=n(1),j=n(0),O=n.n(j),d=n(21),b=n.n(d),f=n(26),p=n(28),h=n(76),m=n(8),g=n(163),x=n(33),v=n(159),E=n(14),y=n(120),I=n(147),R=n(122),C=n(121),S=n(148),T=n(5),L=n(35),k=n(166),w=function(e){var t=Object(E.i)({path:e.to});return Object(u.jsx)(k.a,Object(T.a)({color:t?"accent-4":"accent-3",as:function(e){e.colorProp,e.hasIcon,e.hasLabel;var t=Object(L.a)(e,["colorProp","hasIcon","hasLabel"]);return Object(u.jsx)(p.b,Object(T.a)({},t))}},e))},N=n(167),P=n(137),A=n(138),F=n(139),B=n(140),D=n(27),H=n(4),_=n.n(H),G=function(e){var t=e.firstName,n=e.lastName;return"".concat(t," ").concat(n[0])},U=function(e,t){return e.players[t]},M=function(e,t){var n=U(e,t);return n?G(n):""},Y=Object(D.a)((function(e){return e.players}),(function(e){return Object.values(e)})),W=n(23);!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(r||(r={})),function(e){e[e.AWAY=0]="AWAY",e[e.HOME=1]="HOME"}(a||(a={})),function(e){e.FIRST="FIRST",e.SECOND="SECOND",e.THIRD="THIRD"}(c||(c={})),function(e){e.PITCHER="PITCHER",e.CATCHER="CATCHER",e.FIRST_BASE="FIRST_BASE",e.SECOND_BASE="SECOND_BASE",e.THIRD_BASE="THIRD_BASE",e.SHORTSTOP="SHORTSTOP",e.LEFT_FIELD="LEFT_FIELD",e.CENTER_FIELD="CENTER_FIELD",e.LEFT_CENTER="LEFT_CENTER",e.RIGHT_CENTER="RIGHT_CENTER",e.RIGHT_FIELD="RIGHT_FIELD"}(i||(i={})),function(e){e.OUT="OUT",e.WALK="WALK",e.SINGLE="SINGLE",e.DOUBLE="DOUBLE",e.TRIPLE="TRIPLE",e.HOMERUN="HOMERUN",e.SACRIFICE_FLY="SACRIFICE_FLY",e.FIELDERS_CHOICE="FIELDERS_CHOICE",e.DOUBLE_PLAY="DOUBLE_PLAY"}(o||(o={})),function(e){e.NONE="NONE",e.GROUNDER="GROUNDER",e.LINE_DRIVE="LINE_DRIVE",e.POPUP="POPUP",e.LAZY_FLY="LAZY_FLY",e.LONG_FLY="LONG_FLY"}(s||(s={})),function(e){e.NOT_STARTED="NOT_STARTED",e.IN_PROGRESS="IN_PROGRESS",e.FINISHED="FINISHED"}(l||(l={}));var z=n(6),Z=Object(D.a)((function(e){return e.halfInning}),(function(e){return e===r.BOTTOM?a.HOME:a.AWAY})),K=Object(D.a)((function(e){return e.teams}),Z,(function(e,t){return e[t].lineup})),q=Object(D.a)((function(e){return e.atBat}),K,(function(e,t){var n=_.a.findIndex(t,(function(t){return t===e}));return n===t.length-1?t[0]:t[n+1]})),V=_.a.keys(i),J=function(e){return e.lineup.length>9},Q=function(e){return J(e)?V.filter((function(e){return e!==i.CENTER_FIELD})):V.filter((function(e){return![i.RIGHT_CENTER,i.LEFT_CENTER].includes(e)}))},X=function(e,t){return _.a.findKey(e,(function(e){return e===t}))},$=function(e,t,n){return n?(e[n]=e[t],delete e[t],!1):(delete e[t],!0)},ee=function(e,t){delete e[X(e,t)]},te=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return-1===t?ce(e):0===t?e:e===c.THIRD?null:e===c.SECOND?t>1?null:c.THIRD:t>2?null:2===t?c.THIRD:c.SECOND},ne=function(e){switch(e){case o.HOMERUN:return 4;case o.TRIPLE:return 3;case o.DOUBLE:return 2;case o.SINGLE:case o.WALK:return 1;default:return 0}},re=function(e){switch(e){case o.TRIPLE:return c.THIRD;case o.DOUBLE:return c.SECOND;case o.SINGLE:case o.WALK:case o.FIELDERS_CHOICE:return c.FIRST;default:return null}},ae=function(e){var t;return null===e?4:(t={},Object(z.a)(t,c.FIRST,1),Object(z.a)(t,c.SECOND,2),Object(z.a)(t,c.THIRD,3),t)[e]},ce=function(e){switch(e){case null:return c.THIRD;case c.THIRD:return c.SECOND;case c.SECOND:return c.FIRST;case c.FIRST:return}},ie=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.FIRST,a=ce(t);return ae(t)-ae(r)<=0||(!a||!!n[a]&&e(a,n,r))},oe=function(e){return _.a.toPairs(e).sort((function(e,t){var n=Object(m.a)(e,1)[0],r=Object(m.a)(t,1)[0];return ae(n)-ae(r)}))},se=function(e){return _.a.last(oe(e))},le=function(e,t){var n=oe(e);_.a.forEachRight(n,(function(e){var n=Object(m.a)(e,2),r=n[0],a=n[1];return t(a,r)}))},ue=function(e,t,n){var r=[],a=Object(T.a)({},e),i=ne(t);return _.a.times(i,(function(e){le(a,(function(e,n){ie(n,a,re(t))&&$(a,n,te(n))&&r.push(e)})),0===e&&re(t)&&(a[c.FIRST]=n)})),[a,r]},je=function(e){var t=[];return le(e,(function(n,r){ie(r,e)&&$(e,r,te(r))&&t.push(n)})),t},Oe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.score[Z(e)]+=t},de=function(e,t){var n=e.atBat,r=e.inning,a=e.halfInning,i=e.outs,l=e.runners,u=e.score,j={event:t,gameState:{atBat:n,inning:r,halfInning:a,outs:i,runners:Object(T.a)({},l),score:Object(W.a)(u)},runnersBattedIn:[],runnersScored:[],runnersAfter:l,scoreAfter:u},O=function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r&&(n=j.runnersBattedIn).push.apply(n,Object(W.a)(e));(t=j.runnersScored).push.apply(t,Object(W.a)(e))};if("stolenBaseAttempt"===t.kind){var d=function(e,t){return X(function(e){return e.runners}(e),t)}(e,t.runnerId);if(t.success){var b=te(d);delete e.runners[d],b?e.runners[b]=t.runnerId:(Oe(e),O([t.runnerId],!1))}else delete e.runners[d],e.outs++}else if("plateAppearance"===t.kind){switch(t.type){case o.HOMERUN:Oe(e,_.a.size(e.runners)+1),O([].concat(Object(W.a)(_.a.values(e.runners)),[n])),e.runners={};break;case o.TRIPLE:Oe(e,_.a.size(e.runners)),O(_.a.values(e.runners)),e.runners=Object(z.a)({},c.THIRD,n);break;case o.DOUBLE:case o.SINGLE:case o.WALK:var f=ue(e.runners,t.type,n),p=Object(m.a)(f,2),h=p[0],g=p[1];e.runners=h,Oe(e,g.length),O(g);break;case o.SACRIFICE_FLY:_.a.times(t.runsScoredOnSacFly,(function(){var t=se(l),n=Object(m.a)(t,2),r=n[0],a=n[1];$(l,r,null),Oe(e),O([a])})),e.outs++;break;case o.FIELDERS_CHOICE:ee(e.runners,t.runnersOutOnPlay[0]);var x=je(e.runners);e.runners[c.FIRST]=n,x.length&&i<2&&(Oe(e),O(x)),e.outs++;break;case o.DOUBLE_PLAY:if(e.outs+=2,t.runnersOutOnPlay.forEach((function(t){ee(e.runners,t)})),t.contactType===s.GROUNDER){var v=je(e.runners);v.length&&0===i&&(Oe(e,v.length),O(v,!1)),t.runnersOutOnPlay.includes(n)||(e.runners[c.FIRST]=n)}break;case o.OUT:if(t.contactType===s.GROUNDER){var E=je(e.runners);E.length&&i<2&&(Oe(e,E.length),O(E))}e.outs++}le(e.runners,(function(n,r){n in t.outsOnBasepaths?(delete e.runners[r],e.outs++):n in t.basesTaken&&$(e.runners,r,t.basesTaken[n])&&(Oe(e),O([n],t.type!==o.DOUBLE_PLAY))})),j.runnersAfter=e.runners,j.scoreAfter=e.score,e.gameHistory.push(j)}},be=function(e){var t;return null===e?"home":(t={},Object(z.a)(t,c.FIRST,"1st"),Object(z.a)(t,c.SECOND,"2nd"),Object(z.a)(t,c.THIRD,"3rd"),t)[e]},fe=function(e){var t;return(t={},Object(z.a)(t,i.PITCHER,"P"),Object(z.a)(t,i.CATCHER,"C"),Object(z.a)(t,i.FIRST_BASE,"1B"),Object(z.a)(t,i.SECOND_BASE,"2B"),Object(z.a)(t,i.THIRD_BASE,"3B"),Object(z.a)(t,i.SHORTSTOP,"SS"),Object(z.a)(t,i.LEFT_FIELD,"LF"),Object(z.a)(t,i.CENTER_FIELD,"CF"),Object(z.a)(t,i.LEFT_CENTER,"LCF"),Object(z.a)(t,i.RIGHT_CENTER,"RCF"),Object(z.a)(t,i.RIGHT_FIELD,"RF"),t)[e]},pe=function(e){var t;return(t={},Object(z.a)(t,o.OUT,"Out"),Object(z.a)(t,o.SINGLE,"Single"),Object(z.a)(t,o.DOUBLE,"Double"),Object(z.a)(t,o.TRIPLE,"Triple"),Object(z.a)(t,o.HOMERUN,"Home Run"),Object(z.a)(t,o.WALK,"Walk"),Object(z.a)(t,o.SACRIFICE_FLY,"Sacrifice Fly"),Object(z.a)(t,o.FIELDERS_CHOICE,"Fielder's Choice"),Object(z.a)(t,o.DOUBLE_PLAY,"Double Play"),t)[e]},he=function(e){var t;return(t={},Object(z.a)(t,s.GROUNDER,"Groundout"),Object(z.a)(t,s.LAZY_FLY,"Lazy flyout"),Object(z.a)(t,s.LINE_DRIVE,"Lineout"),Object(z.a)(t,s.LONG_FLY,"Long flyout"),Object(z.a)(t,s.POPUP,"Popout"),Object(z.a)(t,s.NONE,"Strikeout"),t)[e]},me=function(e){var t;return(t={},Object(z.a)(t,s.GROUNDER,"Ground ball"),Object(z.a)(t,s.LAZY_FLY,"Lazy fly ball"),Object(z.a)(t,s.LINE_DRIVE,"Line drive"),Object(z.a)(t,s.LONG_FLY,"Long fly ball"),Object(z.a)(t,s.POPUP,"Pop fly"),t)[e]},ge=function(e){if(!e.attemptedAdvance)return"Held at ".concat(be(e.endBase));if(null===e.endBase)return e.successfulAdvance?"Scored":"Out at home";var t=be(e.endBase);return e.successfulAdvance?"Took ".concat(t):"Out at ".concat(t)},xe=function(e){var t;switch(e){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return"".concat(e).concat(t)},ve=_.a.values(s).filter((function(e){return e!==s.NONE})),Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve;return e.map((function(e,t){return{id:t,contactType:e,label:me(e)}}))},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.a.values(s);return e.map((function(e,t){return{id:t,contactType:e,label:he(e)}}))},Ie=[i.PITCHER,i.CATCHER,i.FIRST_BASE,i.SECOND_BASE,i.THIRD_BASE,i.SHORTSTOP],Re=function(e){return[i.LEFT_FIELD].concat(Object(W.a)(e?[i.LEFT_CENTER,i.RIGHT_CENTER]:[i.CENTER_FIELD]),[i.RIGHT_FIELD])},Ce=function(e){return[].concat(Ie,Object(W.a)(Re(e)))},Se=function(e){return e.map((function(e,t){return{id:t,position:e,label:fe(e)}}))},Te=function(e,t,n){var r;switch(e){case s.GROUNDER:r=t?Ce(n):Ie;break;case s.POPUP:r=Ie;break;case s.LAZY_FLY:case s.LONG_FLY:r=Re(n);break;case s.LINE_DRIVE:r=Ce(n).filter((function(e){return e!==i.CATCHER}));break;case s.NONE:r=[]}return Se(r)},Le=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=se(e);if(a){var c=Object(m.a)(a,1),i=c[0];return ke(e,t,i,null,n,r)}},ke=function e(t,n,r,a,i,o){var s=t[r],l=function(e,t){return null===t?se(e):(le(e,(function(e,r){if(ae(r)<ae(t))return n=[r,e],!1})),n);var n}(t,r),u=function(e){if(!e.length)return[];var t=_.a.flatten(_.a.map(e,(function(e){return[!0,!1].map((function(t){return{attemptedAdvance:!0,successfulAdvance:t,endBase:e}}))})));return[{attemptedAdvance:!1,endBase:ce(t[0].endBase)}].concat(Object(W.a)(t)).map((function(e,t){var n=Object.assign({},e);return Object(T.a)({id:t},n)}))}(function(e,t){var n=[].concat(Object(W.a)(_.a.values(c)),[null]);return null===t?n.filter((function(t){return ae(t)>ae(e)})):n.filter((function(n){return _.a.inRange(ae(n),ae(e)+1,ae(t))}))}(r,a)).filter((function(e){return e.endBase||o})),j=s in i?_.a.findIndex(u,(function(e){return e.endBase===i[s]})):0;if(!(u.length<2)){if(!l)return{runnerId:s,options:u,defaultOption:j};var O=Object(m.a)(l,1)[0],d=Object(T.a)({},t);return{runnerId:s,options:u,defaultOption:j,getTrailingRunnerOptions:function(t){var c=n,s=r;if(t.attemptedAdvance)if(s=t.endBase,t.successfulAdvance)s?$(d,r,s):delete d[r];else{if(delete d[r],3===++c)return;s=a}return e(d,c,O,s,i,o)}}}},we=function(e){return e.game.present.teams},Ne=function(e){return e.game.present.runners},Pe=function(e){return e.game.present.outs},Ae=function(e){return e.game.present.score},Fe=function(e){return e.game.present.halfInning},Be=function(e){return e.game.present.inning},De=function(e){return e.game.present.atBat},He=Object(D.a)(Fe,(function(e){return e===r.BOTTOM?a.HOME:a.AWAY})),_e=Object(D.a)(we,He,(function(e,t){return e[t].lineup})),Ge=Object(D.a)(we,Fe,(function(e,t){return J(e[1-t])})),Ue=Object(D.a)((function(e){return e}),Ne,(function(e,t){return _.a.mapValues(t,(function(t){return M(e,t)}))})),Me=Object(D.a)((function(e){return e}),(function(e){return e.game.present.atBat}),(function(e,t){return t?M(e,t):""})),Ye=function(e,t){return _.a.find(we(e),(function(e){return e.lineup.includes(t)})).positions[t]},We=Object(D.a)(we,(function(e){return e.map((function(e){return e.lineup}))})),ze=Object(D.a)(Y,We,(function(e,t){var n=_.a.flatten(t);return e.filter((function(e){var t=e.playerId;return!n.includes(t)}))})),Ze=Object(D.a)(We,(function(e){var t=Object(m.a)(e,2),n=t[0].length,r=t[1].length;return Math.abs(n-r)<=1&&n>=8&&r>=8})),Ke=function(e){return e.game.present.status},qe=Object(D.a)(Ke,(function(e){return e===l.IN_PROGRESS})),Ve=Object(D.a)(Ke,(function(e){return e===l.FINISHED})),Je=Object(D.a)(Ne,Pe,(function(e,t){var n=new Set;return _.a.size(e)||n.add(o.FIELDERS_CHOICE),2!==t&&_.a.size(e)||(n.add(o.DOUBLE_PLAY),n.add(o.SACRIFICE_FLY)),_.a.values(o).filter((function(e){return!n.has(e)}))})),Qe=function(e,t){var n=_.a.findIndex(t,(function(t){return t===e}));return n===t.length-1?t[0]:t[n+1]},Xe=Object(D.a)(De,_e,Qe),$e=Object(D.a)(Xe,_e,Qe),et=Object(D.a)((function(e){return e}),Xe,M),tt=Object(D.a)((function(e){return e}),$e,M),nt=function(e){return Object(D.a)(De,Pe,Ne,Ge,(function(t,n,r,a){return function(e,t,n,r,a){switch(e){case o.WALK:return;case o.HOMERUN:return{kind:"hit",contactOptions:{options:Ee([s.LINE_DRIVE,s.LONG_FLY])},getNextOptions:function(){return{options:Se(Re(a))}}};case o.OUT:return{kind:"out",contactOptions:{required:!0,options:ye()},getNextOptions:function(e){var t=Object(T.a)({},r);if(e!==s.NONE){var c={options:Te(e,!1,a)};return 2===n?{fielderOptions:c}:(e===s.GROUNDER&&je(t),{fielderOptions:c,runnerOptions:Le(t,n+1,{},e===s.GROUNDER)})}}};case o.SACRIFICE_FLY:var i={options:Se(Re(a))};return 1===_.a.size(r)?{kind:"sacrificeFly",fielderOptions:i}:{kind:"sacrificeFly",fielderOptions:i,runnersScoredOptions:_.a.range(1,_.a.size(r)+1),getNextOptions:function(e){var t=Object(T.a)({},r);return _.a.times(e,(function(){$(t,se(t)[0],null)})),Le(t,n+1,{},!1)}};case o.FIELDERS_CHOICE:return{kind:"fieldersChoice",outOnPlayOptions:{runnerIds:_.a.values(r)},fielderOptions:{options:Te(s.GROUNDER,!1,a)},getNextOptions:n<2?function(e){var a=Object(T.a)({},r);return ee(a,e),je(a),a[c.FIRST]=t,Le(a,n+1)}:void 0};case o.DOUBLE_PLAY:var l=_.a.map(_.a.reverse(oe(r)),1);return{kind:"doublePlay",contactOptions:{options:ye(ve),required:!0},getNextOptions:function(e){var i={options:Te(e,!1,a)};return 1===_.a.size(r)?{fielderOptions:i,outOnPlayOptions:{runnerIds:[].concat(Object(W.a)(l),[t]),multiple:!0}}:e===s.GROUNDER?{fielderOptions:i,outOnPlayOptions:{runnerIds:[].concat(Object(W.a)(l),[t]),multiple:!0},getNextOptions:0===n?function(e){var a=Object(T.a)({},r);return e.forEach((function(e){return ee(a,e)})),je(a),e.includes(t)||(a[c.FIRST]=t),Le(a,n+2)}:void 0}:{outOnPlayOptions:{runnerIds:l},fielderOptions:i,getNextOptions:0===n?function(e){var t=Object(T.a)({},r);return ee(t,e[0]),Le(t,n+2)}:void 0}}};default:var u=ue(r,e,t),j=Object(m.a)(u,1)[0],O=_.a.invert(r),d=_.a.mapValues(O,(function(t){return te(t,ne(e))}));return{kind:"hit",contactOptions:{options:Ee()},runnerOptions:Le(j,n,d),getNextOptions:function(e){return{options:Te(e,!0,a)}}}}}(e,t,n,r,a)}))},rt=function(e){return e.game.present.gameHistory},at=function(e){return e.game.present.gameLength},ct=Object(D.a)(Be,Fe,Ae,(function(e,t,n){var a=Object(m.a)(n,2),c=a[0],i=a[1];return t===r.BOTTOM&&i>c?Math.max(7,e+1):Math.max(7,e)})),it=function(){return 12},ot=Object(D.a)(Be,at,(function(e,t){return e>t})),st=function(e){return e.game.future},lt=Object(D.a)((function(e){return e.game.past}),(function(e){return e.length>0})),ut=Object(D.a)(st,(function(e){return e.length>0})),jt=function(){return Object(f.c)()},Ot=f.d,dt=n(135),bt=n(136),ft={fontWeight:"bold"},pt=function(){var e=Ot(Ae),t=Object(m.a)(e,2),n=t[0],c=t[1],i=Ot(He),o=Ot(Fe),s=Ot(Be),l=Ot(Pe);return Object(u.jsxs)(x.a,{direction:"row",gap:"medium",align:"center",children:[Object(u.jsxs)(N.a,{children:[l," ",1===l?"out":"outs"]}),Object(u.jsxs)(x.a,{direction:"row",align:"center",children:[o===r.TOP?Object(u.jsx)(dt.a,{}):Object(u.jsx)(bt.a,{}),Object(u.jsx)(N.a,{children:s})]}),Object(u.jsx)(P.a,{children:Object(u.jsxs)(A.a,{children:[Object(u.jsxs)(F.a,{style:i===a.AWAY?ft:void 0,children:[Object(u.jsx)(B.a,{scope:"row",children:"Away"}),Object(u.jsx)(B.a,{children:n})]}),Object(u.jsxs)(F.a,{style:i===a.HOME?ft:void 0,children:[Object(u.jsx)(B.a,{scope:"row",children:"Home"}),Object(u.jsx)(B.a,{children:c})]})]})})]})},ht=n(168),mt=n(169),gt=n(143),xt=n(141),vt=n(142),Et=n(145),yt=n(18),It=n(45),Rt=n.n(It),Ct={name:"",lineup:[],positions:{}},St={status:l.NOT_STARTED,teams:[Ct,Ct],inning:1,halfInning:r.TOP,runners:{},outs:0,gameHistory:[],score:[0,0],gameLength:9},Tt=function(e){var t=_.a.values(e.positions);return Q(e).find((function(e){return!t.includes(e)}))},Lt=function(e){var t=J(e);_.a.forEach(e.positions,(function(n,r){t&&n===i.CENTER_FIELD?_.a.some(e.positions,(function(e){return e===i.LEFT_CENTER}))?_.a.some(e.positions,(function(e){return e===i.RIGHT_CENTER}))?e.positions[r]=Tt(e):e.positions[r]=i.RIGHT_CENTER:e.positions[r]=i.LEFT_CENTER:!t&&[i.RIGHT_CENTER,i.LEFT_CENTER].includes(n)&&(_.a.some(e.positions,(function(e){return e===i.CENTER_FIELD}))?e.positions[r]=Tt(e):e.positions[r]=i.CENTER_FIELD)}))},kt=function(e){var t=q(e);3===e.outs?(e.atBat=e.upNextHalfInning,e.upNextHalfInning=t,e.runners={},e.outs=0,e.halfInning===r.BOTTOM&&e.inning++,e.halfInning=1-e.halfInning):e.atBat=t},wt=Object(yt.b)({name:"game",initialState:St,reducers:{addPlayerToGame:function(e,t){var n=t.payload,r=e.teams[n.team];r.lineup.includes(n.playerId)||(r.lineup.push(n.playerId),r.positions[n.playerId]=Tt(r),Lt(r))},movePlayer:function(e,t){var n=t.payload;if(n.fromTeam===n.toTeam){var r=e.teams[n.fromTeam];r.lineup=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),c=Object(m.a)(a,1)[0];return r.splice(n,0,c),r}(r.lineup,n.startIndex,n.endIndex)}else{var a=e.teams[n.fromTeam],c=e.teams[n.toTeam],i=function(e,t,n,r){var a=Array.from(e),c=Array.from(t),i=a.splice(n,1),o=Object(m.a)(i,1)[0];return c.splice(r,0,o),[a,c]}(a.lineup,c.lineup,n.startIndex,n.endIndex),o=Object(m.a)(i,2),s=o[0],l=o[1],u=a.lineup[n.startIndex];a.lineup=s,c.lineup=l,_.a.findKey(c.positions,(function(e){return e===a.positions[u]}))||!Q(c).includes(a.positions[u])?c.positions[u]=Tt(c):c.positions[u]=a.positions[u],delete a.positions[u],Lt(a),Lt(c)}},removePlayerFromGame:function(e,t){var n=t.payload;e.teams.forEach((function(e){e.lineup=e.lineup.filter((function(e){return e!==n})),delete e.positions[n],Lt(e)}))},changePlayerPosition:function(e,t){var n=t.payload,r=e.teams.find((function(e){return e.lineup.includes(n.playerId)})).positions,a=_.a.findKey(r,(function(e){return e===n.position}));a&&(r[a]=r[n.playerId]),r[n.playerId]=n.position},startGame:function(e){e.atBat=e.teams[0].lineup[0],e.upNextHalfInning=e.teams[1].lineup[0],e.status=l.IN_PROGRESS},recordGameEvent:function(e,t){var n=t.payload;de(e,n);var a=Object(m.a)(e.score,2),c=a[0],i=a[1],o=3===e.outs&&e.halfInning===r.TOP&&c<i,s=3===e.outs&&e.halfInning===r.BOTTOM&&c>i;e.inning>=e.gameLength&&(o||s||e.halfInning===r.BOTTOM&&c<i)?e.status=l.FINISHED:kt(e)},changeGameLength:function(e,t){var n=t.payload;e.gameLength=n},incrementGameLength:function(e){e.gameLength+=1},decrementGameLength:function(e){e.gameLength-=1},extendGame:function(e){e.gameLength=Math.max(e.inning,e.gameLength)+1,e.status=l.IN_PROGRESS,kt(e)},resetGame:function(e){return Object(T.a)(Object(T.a)({},St),{},{teams:e.teams})},fullResetGame:function(){return Object(T.a)({},St)}}}),Nt=wt.actions,Pt=wt.reducer,At=Rt()(Pt,{filter:Object(It.includeAction)(Nt.recordGameEvent.type),limit:10,syncFilter:!0}),Ft=function(){var e=jt(),t=Object(j.useCallback)((function(){e(Nt.resetGame())}),[e]);return Object(u.jsxs)(x.a,{pad:"small",width:"small",gap:"small",children:[Object(u.jsx)(N.a,{textAlign:"center",size:"small",children:"Are you sure you want to reset the game?"}),Object(u.jsx)(R.a,{size:"small",color:"status-critical",label:"Reset",onClick:t})]})},Bt=function(){var e=jt(),t=Ot(ct),n=Ot(it),r=Ot(at),a=Ot(qe),c=Ot(ot),i=Object(j.useState)(!1),o=Object(m.a)(i,2),s=o[0],l=o[1],O=Object(j.useCallback)((function(t){var n=t.target;e(Nt.changeGameLength(parseInt(n.value)))}),[e]),d=Object(j.useCallback)((function(){return e(Nt.decrementGameLength())}),[e]),b=Object(j.useCallback)((function(){return e(Nt.incrementGameLength())}),[e]);return Object(u.jsxs)(x.a,{pad:{vertical:"medium",horizontal:"small"},gap:"medium",children:[Object(u.jsxs)(x.a,{children:[Object(u.jsx)(ht.a,{level:5,margin:"none",alignSelf:"center",children:"Game Length"}),Object(u.jsxs)(x.a,{direction:"row",align:"center",gap:"xsmall",children:[Object(u.jsx)(R.a,{icon:Object(u.jsx)(xt.a,{}),onClick:d,disabled:r===t||c}),Object(u.jsx)(mt.a,{step:1,min:t,max:n,value:r,onChange:O,disabled:c}),Object(u.jsx)(R.a,{icon:Object(u.jsx)(vt.a,{}),onClick:b,disabled:r===n||c})]}),Object(u.jsxs)(N.a,{size:"small",alignSelf:"center",color:c?"status-critical":void 0,children:[c?"In extra":r," innings"]})]}),a&&Object(u.jsx)(gt.a,{label:"Reset game",icon:Object(u.jsx)(Et.a,{color:"status-critical"}),color:"status-critical",alignSelf:"center",open:s,onOpen:function(){return l(!0)},dropContent:Object(u.jsx)(Ft,{}),dropProps:{align:{top:"bottom"}},onClose:function(){return l(!1)}})]})},Dt=n(146),Ht=function(e){var t=e.bases,n=Object(L.a)(e,["bases"]),r=t[c.FIRST],a=t[c.SECOND],i=t[c.THIRD];return Object(u.jsx)(Dt.a,Object(T.a)(Object(T.a)({size:"large"},n),{},{children:Object(u.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48",width:"24",height:"24",children:[Object(u.jsxs)("defs",{children:[Object(u.jsx)("path",{d:"M24 25.73L13.11 14.84L24 3.95L34.89 14.84L24 25.73Z",id:"a1RZhYfL4q"}),Object(u.jsx)("clipPath",{id:"clipg3BqRYPvvE",children:Object(u.jsx)("use",{xlinkHref:"#a1RZhYfL4q",opacity:"1"})}),Object(u.jsx)("path",{d:"M36.31 38.05L25.42 27.16L36.31 16.27L47.2 27.16L36.31 38.05Z",id:"aqb5ZIsm9"}),Object(u.jsx)("clipPath",{id:"clipa6tqurtbA",children:Object(u.jsx)("use",{xlinkHref:"#aqb5ZIsm9",opacity:"1"})}),Object(u.jsx)("path",{d:"M11.69 38.05L0.8 27.16L11.69 16.27L22.58 27.16L11.69 38.05Z",id:"bosriBPNJ"}),Object(u.jsx)("clipPath",{id:"cliph2h312r3G7",children:Object(u.jsx)("use",{xlinkHref:"#bosriBPNJ",opacity:"1"})})]}),Object(u.jsx)("g",{children:Object(u.jsxs)("g",{children:[Object(u.jsxs)("g",{children:[Object(u.jsx)("use",{xlinkHref:"#aqb5ZIsm9",opacity:"1",fill:"#000000",fillOpacity:r?"1":"0"}),Object(u.jsx)("g",{clipPath:"url(#clipa6tqurtbA)",children:Object(u.jsx)("use",{xlinkHref:"#aqb5ZIsm9",opacity:"1",fillOpacity:"0",stroke:"#000000",strokeWidth:"2",strokeOpacity:"1"})})]}),Object(u.jsxs)("g",{children:[Object(u.jsx)("use",{xlinkHref:"#a1RZhYfL4q",opacity:"1",fill:"#000000",fillOpacity:a?"1":"0"}),Object(u.jsx)("g",{clipPath:"url(#clipg3BqRYPvvE)",children:Object(u.jsx)("use",{xlinkHref:"#a1RZhYfL4q",opacity:"1",fillOpacity:"0",stroke:"#000000",strokeWidth:"2",strokeOpacity:"1"})})]}),Object(u.jsxs)("g",{children:[Object(u.jsx)("use",{xlinkHref:"#bosriBPNJ",opacity:"1",fill:"#000000",fillOpacity:i?"1":"0"}),Object(u.jsx)("g",{clipPath:"url(#cliph2h312r3G7)",children:Object(u.jsx)("use",{xlinkHref:"#bosriBPNJ",opacity:"1",fillOpacity:"0",stroke:"#000000",strokeWidth:"2",strokeOpacity:"1"})})]})]})})]})}))},_t=function(){var e=jt(),t=Object(E.g)(),n=Ot(qe),r=Ot(Ze),a=Ot(Ue),c=Object(j.useCallback)((function(){e(Nt.startGame()),t.push("/field")}),[e,t]),i=Object(j.useRef)(null),o=Object(j.useState)(!1),s=Object(m.a)(o,2),l=s[0],O=s[1],d=Object(j.useCallback)((function(){return O((function(e){return!e}))}),[O]);return Object(u.jsxs)(y.a,{background:"brand",children:[Object(u.jsxs)(I.a,{direction:"row",pad:"medium",children:[Object(u.jsx)(w,{to:"/teams",children:"Teams"}),n&&Object(u.jsx)(w,{to:"/field",children:"Field"}),n&&Object(u.jsx)(w,{to:"/box-score",children:"Box Score"}),n&&Object(u.jsx)(w,{to:"/plays",children:"Plays"})]}),Object(u.jsxs)(x.a,{direction:"row",margin:{right:"small"},children:[n&&Object(u.jsx)(x.a,{alignSelf:"center",margin:{right:"medium"},children:Object(u.jsx)(Ht,{bases:a,color:"light-1"})}),n?Object(u.jsx)(pt,{}):Object(u.jsx)(E.b,{path:"/teams",children:Object(u.jsx)(R.a,{plain:!1,disabled:!r,onClick:c,margin:{right:"small"},children:"Start Game"})}),Object(u.jsx)(R.a,{margin:{left:"small"},icon:Object(u.jsx)(S.a,{}),plain:!1,alignSelf:"center",color:"light-1",ref:i,onClick:d}),l&&i.current&&Object(u.jsx)(C.a,{target:i.current,align:{top:"bottom",right:"right"},children:Object(u.jsx)(Bt,{})})]})]})},Gt=n(171),Ut=n(151),Mt=n(152),Yt=n(164),Wt=n(149),zt=n(170),Zt=n(150),Kt=Object(j.createContext)(!1),qt=function(e){var t=e.label,n=e.preview,r=e.children,a=Object(j.useContext)(Kt);return Object(u.jsx)(zt.a,{header:Object(u.jsxs)(x.a,{direction:"row",justify:"between",pad:"small",round:"4px",background:a?void 0:"brand",children:[Object(u.jsx)(N.a,{weight:"bold",children:t}),!a&&Object(u.jsxs)(u.Fragment,{children:[n,Object(u.jsx)(Zt.a,{})]})]}),children:r})},Vt=function(e){var t=e.children,n=j.Children.count(t),r=Object(j.useState)(_.a.range(n)),a=Object(m.a)(r,2),c=a[0],i=a[1],o=Object(j.useCallback)((function(e){i((function(t){return e.length>t.length?_.a.sortBy(e).slice(1):t}))}),[i]);return Object(u.jsx)(Wt.a,{multiple:!0,activeIndex:c,onActive:o,gap:"small",children:j.Children.map(t,(function(e,t){return Object(u.jsx)(Kt.Provider,{value:c.includes(t),children:e},t)}))})},Jt=n(30),Qt=function(e){return e.prompts.contactChoice},Xt=function(e){return e.prompts.fielderChoice},$t=function(e){return e.prompts.outOnPlayChoices},en=function(e){return e.prompts.sacFlyRunsScoredChoice},tn=function(e,t){var n,r;return Object(T.a)({kind:"plateAppearance",type:t,contactType:null===(n=Qt(e))||void 0===n?void 0:n.contactType,fieldedBy:null===(r=Xt(e))||void 0===r?void 0:r.position,runnersOutOnPlay:$t(e),runsScoredOnSacFly:en(e)},function(e){var t={},n={};return _.a.forEach(e,(function(e,r){e.attemptedAdvance&&(e.successfulAdvance?t[r]=e.endBase:n[r]=e.endBase)})),{basesTaken:t,outsOnBasepaths:n}}(function(e){return e.prompts.runnerChoices}(e)))},nn=function(){var e=Object(j.useContext)(vn),t=Ot((function(t){return function(e,t){var n=tn(e,t),r=Object(Jt.a)(function(e){return e.game.present}(e),(function(e){return de(e,n)})),a=r.gameHistory,c=r.runners,i=r.outs;return{runners:c,runnersScored:_.a.last(a).runnersScored,outs:i}}(t,e)})),n=t.runners,r=t.runnersScored.length,a=t.outs;return Object(u.jsxs)(x.a,{direction:"row",align:"center",alignSelf:"center",gap:"medium",children:[Object(u.jsx)(N.a,{weight:"bold",children:"Preview"}),Object(u.jsxs)(x.a,{round:!0,direction:"row",align:"center",gap:"small",border:!!r,pad:r?"xsmall":void 0,children:[Object(u.jsxs)(x.a,{round:!0,direction:"row",align:"center",gap:"small",background:"brand",pad:"small",children:[Object(u.jsx)(Ht,{bases:n}),Object(u.jsx)(N.a,{children:3===a?"Inning over":"".concat(a," out").concat(1!==a?"s":"")})]}),!!r&&Object(u.jsxs)(N.a,{children:[r," ",r>1?"runs score":"run scores","."]})]})]})},rn=function(e){var t=e.options,n=e.multiple,r=e.value,a=e.onChange,c=Object(L.a)(e,["options","multiple","value","onChange"]),i=Object(j.useCallback)((function(e){return n?r.includes(e):e===r}),[n,r]),o=Object(j.useCallback)((function(e){return function(){n&&_.a.isArray(r)?a(r.includes(e)?r.filter((function(t){return t!==e})):r.concat(e)):a(e)}}),[n,r,a]);return Object(u.jsx)(x.a,Object(T.a)(Object(T.a)({direction:"row",round:!0,border:!0,overflow:"hidden"},c),{},{children:t.map((function(e,n){var r,a,c;_.a.isObject(e)&&"label"in e?(r=e.label,a=e.value,c=e.negative):(r=a=e,c=!1);var s=i(a);return Object(u.jsx)(x.a,{flex:!0,width:"string"===typeof r&&r.length<4?"xxsmall":"xsmall",onClick:o(a),background:s?"brand":c?"status-critical-light":void 0,hoverIndicator:!s,pad:"small",align:"center",justify:"center",border:n>0?{side:"left",size:"1px"}:void 0,children:Object(u.jsx)(N.a,{textAlign:"center",children:r})},"".concat(n,"_of_").concat(t.length))}))}))},an={runnerChoices:{},outOnPlayChoices:[],sacFlyRunsScoredChoice:1},cn=Object(yt.b)({name:"prompt",initialState:an,reducers:{setRunnerChoice:function(e,t){var n=t.payload;e.runnerChoices[n.runnerId]=n.option},clearRunnerChoice:function(e,t){var n=t.payload;delete e.runnerChoices[n]},setContactChoice:function(e,t){var n=t.payload;e.contactChoice=n},clearContactChoice:function(e){delete e.contactChoice},setFielderChoice:function(e,t){var n=t.payload;e.fielderChoice=n},clearFielderChoice:function(e){delete e.fielderChoice},setOutOnPlayChoices:function(e,t){var n=t.payload;e.outOnPlayChoices=n},clearOutOnPlayChoices:function(e){e.outOnPlayChoices=[]},setSacFlyRunsScoredChoice:function(e,t){var n=t.payload;e.sacFlyRunsScoredChoice=n},resetSacFlyRunsScoredChoice:function(e){e.sacFlyRunsScoredChoice=1},clearPrompt:function(){return an}}}),on=cn.reducer,sn=cn.actions,ln=on,un=function(e){var t=e.options,n=(e.required,jt());Object(j.useEffect)((function(){return function(){n(sn.clearContactChoice())}}),[n]);var r=Ot(Qt),a=Object(j.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e.id}}))}),[t]),c=Object(j.useCallback)((function(e){n(sn.setContactChoice(t[e]))}),[n,t]);return Object(u.jsx)(rn,{options:a,value:null===r||void 0===r?void 0:r.id,onChange:c})},jn=function(e){var t=e.options,n=e.showTitle,r=void 0===n||n,a=jt();Object(j.useEffect)((function(){return function(){a(sn.clearFielderChoice())}}),[a]);var c=Ot(Xt),i=Object(j.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e.id}}))}),[t]),o=Object(j.useCallback)((function(e){return a(sn.setFielderChoice(t[e]))}),[a,t]);return Object(u.jsxs)(x.a,{flex:!0,children:[r&&Object(u.jsx)(ht.a,{level:4,margin:{top:"none",bottom:"xsmall"},alignSelf:"center",children:"Hit to"}),Object(u.jsx)(rn,{options:i,value:null===c||void 0===c?void 0:c.id,onChange:o})]})},On=function(e){var t=e.contactOptions,n=e.fielderOptions;return Object(u.jsx)(qt,{label:"Contact",preview:"",children:Object(u.jsxs)(x.a,{gap:"small",children:[Object(u.jsx)(un,Object(T.a)({},t)),n&&Object(u.jsx)(jn,Object(T.a)(Object(T.a)({},n),{},{showTitle:!1}))]})})},dn=function e(t){var n=t.runnerId,r=t.options,a=t.defaultOption,c=t.getTrailingRunnerOptions,i=Object(f.c)();Object(j.useEffect)((function(){return i(sn.setRunnerChoice({runnerId:n,option:r[a]})),function(){i(sn.clearRunnerChoice(n))}}),[i,n,r,a]);var o=Ot((function(e){return function(e,t){return e.prompts.runnerChoices[t]}(e,n)})),s=Ot((function(e){return M(e,n)})),l=Object(j.useMemo)((function(){return r.map((function(e){return{label:ge(e),value:e.id,negative:e.attemptedAdvance&&!e.successfulAdvance}}))}),[r]),O=Object(j.useMemo)((function(){return o&&(null===c||void 0===c?void 0:c(o))}),[o,c]),d=Object(j.useCallback)((function(e){return i(sn.setRunnerChoice({runnerId:n,option:r[e]}))}),[i,n,r]);return Object(u.jsxs)(x.a,{gap:"small",children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(N.a,{alignSelf:"center",style:{whiteSpace:"nowrap"},children:s}),Object(u.jsx)(rn,{flex:!0,options:l,value:null===o||void 0===o?void 0:o.id,onChange:d})]}),O&&Object(u.jsx)(e,Object(T.a)({},O))]})},bn=function(e){var t=e.contactOptions,n=e.runnerOptions,r=e.getNextOptions,a=e.setCanSubmit;Object(j.useEffect)((function(){return a(!0)}),[a]);var c=Ot(Qt),i=Object(j.useMemo)((function(){return c&&r(c.contactType)}),[c,r]);return Object(u.jsxs)(x.a,{gap:"medium",children:[Object(u.jsxs)(Vt,{children:[Object(u.jsx)(On,{contactOptions:t,fielderOptions:i}),n&&Object(u.jsx)(qt,{label:"Runners",preview:"",children:Object(u.jsx)(dn,Object(T.a)({},n))})]}),Object(u.jsx)(nn,{})]})},fn=function(e){var t=e.contactOptions,n=e.getNextOptions,r=e.setCanSubmit,a=Ot(Qt);Object(j.useEffect)((function(){return r(!!a)}),[a,r]);var c=Object(j.useMemo)((function(){var e;return null!==(e=a&&n(a.contactType))&&void 0!==e?e:{}}),[a,n]),i=c.fielderOptions,o=c.runnerOptions;return Object(u.jsxs)(x.a,{gap:"medium",children:[Object(u.jsxs)(Vt,{children:[Object(u.jsx)(On,{contactOptions:t,fielderOptions:i}),o&&Object(u.jsx)(qt,{label:"Runners",preview:"",children:Object(u.jsx)(dn,Object(T.a)({},o))})]}),!!a&&Object(u.jsx)(nn,{})]})},pn=function(e){var t=e.fielderOptions,n=e.runnersScoredOptions,r=e.getNextOptions,a=e.setCanSubmit,c=jt(),i=Ot(en);Object(j.useEffect)((function(){return a(!0)}),[a]);var o=Object(j.useMemo)((function(){return null===r||void 0===r?void 0:r(i)}),[r,i]),s=Object(j.useCallback)((function(e){c(sn.setSacFlyRunsScoredChoice(e))}),[c]);return Object(u.jsxs)(x.a,{gap:"medium",margin:{top:"medium"},children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[n&&Object(u.jsxs)(x.a,{gap:"xsmall",flex:!0,children:[Object(u.jsx)(ht.a,{level:4,margin:"none",alignSelf:"center",children:"Runs batted in"}),Object(u.jsx)(rn,{options:n,value:i,onChange:s})]}),t&&Object(u.jsx)(jn,Object(T.a)({},t))]}),o&&Object(u.jsx)(dn,Object(T.a)({},o)),Object(u.jsx)(nn,{})]})},hn=function(e){var t=e.multiple,n=e.runnerIds;return t?n.length>2:n.length>1},mn=function(e){var t=e.showTitle,n=void 0===t||t,r=Object(L.a)(e,["showTitle"]),a=r.multiple,c=r.runnerIds,i=jt(),o=!hn(r);Object(j.useEffect)((function(){o&&i(a?sn.setOutOnPlayChoices(c):sn.setOutOnPlayChoices([c[0]]))}),[a,o,c,i]);var s,l=Ot($t),O=Object(j.useCallback)((function(e){i(sn.setOutOnPlayChoices([e]))}),[i]),d=Object(j.useCallback)((function(e){i(sn.setOutOnPlayChoices(e.length>2?_.a.slice(e,1):e))}),[i]),b=Ot((function(e){return function(e,t){return t.map((function(t){return{label:M(e,t),value:t}}))}(e,c)}));return o?null:(s=a?Object(u.jsx)(rn,{multiple:!0,options:b,value:l,onChange:d}):Object(u.jsx)(rn,{options:b,value:l[0],onChange:O}),Object(u.jsxs)(x.a,{children:[n&&Object(u.jsxs)(ht.a,{level:4,margin:{top:"none",bottom:"xsmall"},alignSelf:"center",children:[a?"Runners":"Runner"," out on play"]}),s]}))},gn=function(e){var t=e.fielderOptions,n=e.outOnPlayOptions,r=e.getNextOptions,a=e.setCanSubmit,c=Ot($t),i=Object(m.a)(c,1)[0],o=!(n.runnerIds.length>1)||!!i;Object(j.useEffect)((function(){return a(o)}),[o,a]);var s=Object(j.useMemo)((function(){return i&&(null===r||void 0===r?void 0:r(i))}),[r,i]);return Object(u.jsxs)(x.a,{gap:"medium",margin:{top:"small"},children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",align:"center",children:[Object(u.jsx)(jn,Object(T.a)({},t)),Object(u.jsx)(mn,Object(T.a)({},n))]}),s&&Object(u.jsx)(dn,Object(T.a)({},s)),o&&Object(u.jsx)(nn,{})]})},xn=function(e){var t=e.contactOptions,n=e.getNextOptions,r=e.setCanSubmit,a=Ot(Qt),c=Ot($t),i=Object(j.useMemo)((function(){return a&&n(a.contactType)}),[n,a]),o=!!i&&(!i.outOnPlayOptions||c.length===(i.outOnPlayOptions.multiple?2:1)),s=!!a&&o;Object(j.useEffect)((function(){return r(s)}),[s,r]);var l=Object(j.useMemo)((function(){var e;return i&&!!c.length&&(null===(e=i.getNextOptions)||void 0===e?void 0:e.call(i,c))}),[i,c]);return Object(u.jsxs)(x.a,{gap:"medium",children:[Object(u.jsxs)(Vt,{children:[Object(u.jsx)(On,{contactOptions:t,fielderOptions:null===i||void 0===i?void 0:i.fielderOptions}),(null===i||void 0===i?void 0:i.outOnPlayOptions)&&(hn(i.outOnPlayOptions)?Object(u.jsx)(qt,{label:"Runner".concat(i.outOnPlayOptions.multiple?"s":""," out on play"),preview:"",children:Object(u.jsx)(mn,Object(T.a)(Object(T.a)({},i.outOnPlayOptions),{},{showTitle:!1}))}):Object(u.jsx)(mn,Object(T.a)({},i.outOnPlayOptions))),l&&Object(u.jsx)(qt,{label:"Runners",preview:"",children:Object(u.jsx)(dn,Object(T.a)({},l))})]}),s&&Object(u.jsx)(nn,{})]})},vn=Object(j.createContext)(o.OUT),En=function(e){var t,n=e.paType,r=e.onSubmit,a=e.onCancel,c=jt(),i=Object(j.useState)(!1),o=Object(m.a)(i,2),s=o[0],l=o[1],O=Object(j.useMemo)((function(){return nt(n)}),[n]),d=Ot(O),b=Ot(Me);if(Object(j.useEffect)((function(){return function(){c(sn.clearPrompt())}}),[c]),Object(j.useEffect)((function(){d||r()}),[d,r]),!d)return null;switch(d.kind){case"hit":t=Object(u.jsx)(bn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"out":t=Object(u.jsx)(fn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"sacrificeFly":t=Object(u.jsx)(pn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"fieldersChoice":t=Object(u.jsx)(gn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"doublePlay":t=Object(u.jsx)(xn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}))}return Object(u.jsx)(Yt.a,{children:Object(u.jsxs)(x.a,{pad:"medium",children:[Object(u.jsxs)(ht.a,{level:3,margin:"none",alignSelf:"center",children:[pe(n)," by ",b]}),Object(u.jsx)(vn.Provider,{value:n,children:t}),Object(u.jsxs)(x.a,{direction:"row",margin:{top:"medium"},justify:"between",gap:"small",children:[Object(u.jsx)(R.a,{color:"status-critical",label:"Cancel",onClick:a}),s&&Object(u.jsx)(R.a,{color:"status-ok",label:"Record ".concat(pe(n)),onClick:r})]})]})})},yn=[{color:"neutral-4",types:[o.OUT,o.FIELDERS_CHOICE,o.DOUBLE_PLAY]},{color:"neutral-3",types:[o.SINGLE,o.DOUBLE,o.TRIPLE,o.HOMERUN]},{color:"neutral-1",types:[o.WALK,o.SACRIFICE_FLY]}],In=function(){var e=jt(),t=Ot(Je),n=Object(j.useState)(),r=Object(m.a)(n,2),a=r[0],c=r[1],i=Object(j.useCallback)((function(){a&&e((function(e,t){e(Nt.recordGameEvent(tn(t(),a)))})),c(void 0)}),[e,a,c]),o=Object(j.useCallback)((function(){c(void 0)}),[c]);return Object(u.jsxs)(x.a,{gridArea:"reporter",align:"center",justify:"center",children:[yn.map((function(e){var n=e.color,r=e.types;return Object(u.jsx)(x.a,{direction:"row",align:"center",justify:"center",alignContent:"center",wrap:!0,children:r.filter((function(e){return t.includes(e)})).map((function(e){return Object(u.jsx)(R.a,{color:n,label:pe(e),onClick:function(){return c(e)},margin:"small"},e)}))})})),a&&Object(u.jsx)(En,{paType:a,onSubmit:i,onCancel:o})]})};function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Cn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Sn=j.createElement("defs",null,j.createElement("path",{d:"M24 45.21L2.79 24L24 2.79L45.21 24L24 45.21Z",id:"b1pwy3kSYG"}),j.createElement("clipPath",{id:"clipa1ontZhQmS"},j.createElement("use",{xlinkHref:"#b1pwy3kSYG",opacity:1}))),Tn=j.createElement("g",null,j.createElement("g",null,j.createElement("g",null,j.createElement("use",{xlinkHref:"#b1pwy3kSYG",opacity:1,fill:"#d4ee91",fillOpacity:0}),j.createElement("g",{clipPath:"url(#clipa1ontZhQmS)"},j.createElement("use",{xlinkHref:"#b1pwy3kSYG",opacity:1,fillOpacity:0,stroke:"#000000",strokeWidth:2,strokeOpacity:1})))));function Ln(e,t){var n=e.title,r=e.titleId,a=Cn(e,["title","titleId"]);return j.createElement("svg",Rn({preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48",width:24,height:24,ref:t,"aria-labelledby":r},a),n?j.createElement("title",{id:r},n):null,Sn,Tn)}var kn=j.forwardRef(Ln);n.p;function wn(){return(wn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Nn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Pn=j.createElement("defs",null,j.createElement("path",{d:"M7 24L24 41L41 24L41 7L7 7L7 24Z",id:"a3jEO7oPWR"}),j.createElement("clipPath",{id:"clipb1aIxcMs8Z"},j.createElement("use",{xlinkHref:"#a3jEO7oPWR",opacity:1}))),An=j.createElement("g",null,j.createElement("g",null,j.createElement("g",null,j.createElement("g",{clipPath:"url(#clipb1aIxcMs8Z)"},j.createElement("use",{xlinkHref:"#a3jEO7oPWR",opacity:1,fillOpacity:0,stroke:"#000000",strokeWidth:2,strokeOpacity:1})))));function Fn(e,t){var n=e.title,r=e.titleId,a=Nn(e,["title","titleId"]);return j.createElement("svg",wn({preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48",width:24,height:24,ref:t,"aria-labelledby":r},a),n?j.createElement("title",{id:r},n):null,Pn,An)}var Bn=j.forwardRef(Fn),Dn=(n.p,function(e){var t=e.occupied;return Object(u.jsx)(Dt.a,{size:"large",color:t?"brand":void 0,fillOpacity:t?1:void 0,children:Object(u.jsx)(kn,{})})}),Hn=function(){return Object(u.jsx)(Dt.a,{size:"large",children:Object(u.jsx)(Bn,{})})},_n=function(){var e=jt(),t=Ot(qe),n=Ot(Ue),r=n[c.FIRST],a=n[c.SECOND],i=n[c.THIRD],o=Ot(Me),s=Ot(et),l=Ot(tt),O=Ot(lt),d=Ot(ut),b=Object(j.useCallback)((function(){e(It.ActionCreators.undo())}),[e]),f=Object(j.useCallback)((function(){e(It.ActionCreators.redo())}),[e]);return t?Object(u.jsxs)(x.a,{fill:!0,children:[Object(u.jsx)(x.a,{flex:!0,children:Object(u.jsxs)(Gt.a,{fill:!0,rows:["xsmall","auto","xsmall"],columns:["small","auto","small"],areas:[["undo-redo","second-base","."],["third-base","reporter","first-base"],[".","home-plate","."]],children:[Object(u.jsx)("style",{scoped:!0,children:'\n          svg[fill-opacity="1"] use {\n            fill-opacity: 1;\n          }\n        '}),Object(u.jsxs)(x.a,{gridArea:"undo-redo",direction:"row",margin:"medium",gap:"small",children:[Object(u.jsx)(R.a,{icon:Object(u.jsx)(Ut.a,{}),disabled:!O,onClick:b}),Object(u.jsx)(R.a,{icon:Object(u.jsx)(Mt.a,{}),disabled:!d,onClick:f})]}),Object(u.jsxs)(x.a,{gridArea:"first-base",direction:"row",justify:"end",align:"center",children:[Object(u.jsx)(N.a,{textAlign:"center",children:r}),Object(u.jsx)(Dn,{occupied:!!r})]}),Object(u.jsxs)(x.a,{gridArea:"second-base",align:"center",children:[Object(u.jsx)(Dn,{occupied:!!a}),Object(u.jsx)(N.a,{children:a})]}),Object(u.jsxs)(x.a,{gridArea:"third-base",direction:"row",align:"center",children:[Object(u.jsx)(Dn,{occupied:!!i}),Object(u.jsx)(N.a,{textAlign:"center",children:i})]}),Object(u.jsxs)(x.a,{gridArea:"home-plate",justify:"end",align:"center",children:[Object(u.jsx)(N.a,{weight:"bold",size:"xlarge",children:o}),Object(u.jsx)(Hn,{})]}),Object(u.jsx)(In,{})]})}),Object(u.jsxs)(x.a,{border:{side:"top"},direction:"row",justify:"around",pad:"medium",children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(N.a,{children:"On Deck"}),Object(u.jsx)(N.a,{weight:"bold",children:s})]}),Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(N.a,{children:"In the Hole"}),Object(u.jsx)(N.a,{weight:"bold",children:l})]})]})]}):Object(u.jsx)(E.a,{to:"/teams"})},Gn=n(43),Un=n(165),Mn=n(153),Yn=n(162),Wn=n(155),zn=function(e){var t=e.playerId,n=e.index,r=e.team,a=jt(),c=Ot((function(e){return M(e,t)})),i=Ot((function(e){return Ye(e,t)})),o=Ot((function(e){return function(e,t){return Q(we(e)[t])}(e,r)})),s=Object(j.useMemo)((function(){return o.map((function(e){return{position:e,label:fe(e)}}))}),[o]),l=Object(j.useCallback)((function(){a(Nt.removePlayerFromGame(t))}),[t,a]),O=Object(j.useCallback)((function(e){var n=e.value;a(Nt.changePlayerPosition({playerId:t,position:n}))}),[a,t]);return Object(u.jsx)(Gn.b,{draggableId:t,index:n,children:function(e){var t=e.innerRef,n=e.draggableProps,r=e.dragHandleProps;return Object(u.jsxs)(x.a,Object(T.a)(Object(T.a)(Object(T.a)({ref:t},n),r),{},{direction:"row",height:"xxsmall",align:"center",justify:"between",children:[Object(u.jsx)(N.a,{margin:{right:"auto"},children:c}),Object(u.jsx)(Mn.a.Extend,{value:{global:{size:{xsmall:"108px"}}},children:Object(u.jsx)(x.a,{width:"xsmall",margin:{right:"small"},children:Object(u.jsx)(Yn.a,{value:i,options:s,labelKey:"label",valueKey:{key:"position",reduce:!0},onChange:O})})}),Object(u.jsx)(R.a,{plain:!1,icon:Object(u.jsx)(Wn.a,{size:"small",color:"status-critical"}),color:"status-critical",onClick:l})]}))}})},Zn=function(e){var t=e.team,n=jt(),r=Ot((function(e){return function(e,t){return we(e)[t].lineup}(e,t)})),c=Ot(ze),i=Object(j.useState)(""),o=Object(m.a)(i,2),s=o[0],l=o[1],O=Object(j.useMemo)((function(){return s.length?c.filter((function(e){return e.firstName.toLowerCase().startsWith(s.toLowerCase())})).map((function(e){return{value:e.playerId,label:G(e)}})):[]}),[c,s]),d=Object(j.useCallback)((function(e){var t=e.currentTarget;return l(t.value)}),[l]),b=Object(j.useCallback)((function(e){var r=e.suggestion;r&&(n(Nt.addPlayerToGame({team:t,playerId:r.value})),l(""))}),[t,n,l]);return Object(u.jsxs)(x.a,{flex:!0,children:[Object(u.jsx)(ht.a,{level:4,textAlign:"center",margin:{top:"none"},children:t===a.AWAY?"Away Team":"Home Team"}),Object(u.jsx)(Un.a,{placeholder:"Add Player",suggestions:O,value:s,onChange:d,onSelect:b}),Object(u.jsxs)(x.a,{direction:"row",margin:{top:"small"},children:[Object(u.jsx)(x.a,{width:"xxsmall",children:_.a.range(1,11).map((function(e){return Object(u.jsx)(x.a,{height:"xxsmall",justify:"center",children:Object(u.jsx)(N.a,{children:e})},e)}))}),Object(u.jsx)(Gn.c,{droppableId:t===a.AWAY?"AWAY":"HOME",children:function(e){var n=e.innerRef,a=e.droppableProps,c=e.placeholder;return Object(u.jsxs)(x.a,Object(T.a)(Object(T.a)({ref:n},a),{},{flex:!0,children:[r.map((function(e,n){return Object(u.jsx)(zn,{playerId:e,index:n,team:t},e)})),c]}))}})]})]})},Kn=function(){var e=jt(),t=Object(j.useCallback)((function(t){var n=t.source,r=t.destination;r&&e(Nt.movePlayer({fromTeam:a[n.droppableId],toTeam:a[r.droppableId],startIndex:n.index,endIndex:r.index}))}),[e]);return Object(u.jsx)(Gn.a,{onDragEnd:t,children:Object(u.jsxs)(x.a,{direction:"row",justify:"around",pad:"medium",gap:"medium",flex:{shrink:0},basis:"auto",children:[Object(u.jsx)(Zn,{team:a.AWAY}),Object(u.jsx)(Zn,{team:a.HOME})]})})},qn=n(156),Vn=n(160),Jn={atBats:0,hits:0,doubles:0,triples:0,homeRuns:0,walks:0,stolenBases:0,caughtStealing:0,runsBattedIn:0,runsScored:0,strikeouts:0,sacrificeFlies:0,groundIntoDoublePlays:0,leftOnBase:0},Qn=Object(D.a)(rt,we,(function(e,t){var n=function(e){var t={},n=function(e,n){e in t||(t[e]=Object(T.a)({},Jn)),n(t[e])};return e.forEach((function(e){var t=e.gameState,r=e.event,a=e.runnersScored,c=e.runnersBattedIn;a.forEach((function(e){n(e,(function(e){e.runsScored++}))})),"stolenBaseAttempt"===r.kind?n(r.runnerId,(function(e){r.success?e.stolenBases++:e.caughtStealing++})):n(t.atBat,(function(e){if(e.runsBattedIn+=c.length,r.type===o.WALK)e.walks++;else if(r.type===o.SACRIFICE_FLY)e.sacrificeFlies++;else switch(e.atBats++,r.type){case o.SINGLE:e.hits++;break;case o.DOUBLE:e.hits++,e.doubles++;break;case o.TRIPLE:e.hits++,e.triples++;break;case o.HOMERUN:e.hits++,e.homeRuns++;break;case o.OUT:r.contactType===s.NONE&&e.strikeouts++,e.leftOnBase+=_.a.size(t.runners);break;case o.DOUBLE_PLAY:r.contactType===s.GROUNDER&&e.groundIntoDoublePlays++,e.leftOnBase+=_.a.size(t.runners)-1;break;case o.FIELDERS_CHOICE:e.leftOnBase+=_.a.size(t.runners)}}))})),t}(e);return t.map((function(e){return e.lineup.map((function(e,t){var r,a=null!==(r=n[e])&&void 0!==r?r:Jn;return Object(T.a)(Object(T.a)({playerId:e,lineupSpot:t+1},a),_.a.mapValues(function(e){var t=e.hits/e.atBats,n=(e.hits+e.walks)/(e.atBats+e.walks+e.sacrificeFlies),r=(e.hits+e.doubles+2*e.triples+3*e.homeRuns)/e.atBats;return{battingAverage:t,onBasePercentage:n,sluggingPercentage:r,onBasePlusSlugging:n+r,isolatedPower:r-t}}(a),(function(e){return _.a.isNaN(e)?"---":function(e){var t=e.toFixed(3);return e>=1?t:t.slice(1)}(e)})))}))}))})),Xn=function(e){var t=e.playerId,n=e.lineupSpot,r=Ot((function(e){return M(e,t)})),a=Ot((function(e){return Ye(e,t)}));return Object(u.jsxs)(x.a,{direction:"row",align:"center",gap:"xsmall",children:[Object(u.jsx)(N.a,{size:"small",color:"dark-3",children:n}),Object(u.jsx)(N.a,{weight:"bold",style:{whiteSpace:"nowrap"},children:r}),Object(u.jsx)(N.a,{style:{fontStyle:"italic"},children:fe(a)})]})},$n=function(e){var t=e.rows,n=e.team;return Object(u.jsx)(qn.a,{pad:"small",background:"light-1",margin:"small",children:Object(u.jsx)(Vn.a,{margin:"small",columns:[{property:"playerId",header:Object(u.jsxs)(N.a,{children:[n===a.AWAY?"Away":"Home"," Batters"]}),primary:!0,render:function(e){var t=e.playerId,n=e.lineupSpot;return Object(u.jsx)(Xn,{playerId:t,lineupSpot:n})}},{property:"atBats",header:"AB"},{property:"runsScored",header:"R"},{property:"hits",header:"H"},{property:"runsBattedIn",header:"RBI"},{property:"walks",header:"BB"},{property:"leftOnBase",header:"LOB"},{property:"battingAverage",header:"AVG"},{property:"onBasePlusSlugging",header:"OPS"}],data:t})})},er=function(){var e=Ot(qe),t=Ot(Qn),n=Object(m.a)(t,2),r=n[0],c=n[1];return e?Object(u.jsxs)(x.a,{flex:!0,direction:"row",wrap:!0,justify:"around",align:"center",children:[Object(u.jsx)($n,{rows:r,team:a.AWAY}),Object(u.jsx)($n,{rows:c,team:a.HOME})]}):Object(u.jsx)(E.a,{to:"/teams"})},tr=n(157),nr=n(158),rr=function(e){var t=e.type,n="";switch(t){case o.WALK:n="neutral-1";break;case o.OUT:case o.FIELDERS_CHOICE:case o.DOUBLE_PLAY:n="neutral-4";break;default:n="neutral-3"}return Object(u.jsx)(x.a,{round:{size:"2px"},background:n,alignSelf:"center",pad:{vertical:"xxsmall",horizontal:"xsmall"},flex:!1,children:Object(u.jsx)(N.a,{size:"xsmall",children:pe(t).toUpperCase()})})},ar=function(e){var t=Object(m.a)(e.score,2),n=t[0],r=t[1];return Object(u.jsx)(x.a,{round:{size:"2px"},border:!0,alignSelf:"start",pad:{vertical:"xxsmall",horizontal:"xsmall"},flex:!1,margin:{top:"xsmall"},children:Object(u.jsxs)(N.a,{size:"xsmall",children:["AWAY ",n," - HOME ",r]})})},cr=function(e){var t=e.description,n=e.outs,r=e.score,a=e.type;return Object(u.jsxs)(x.a,{pad:{vertical:"small"},direction:"row",justify:"between",gap:"xsmall",children:[Object(u.jsxs)(x.a,{children:[Object(u.jsxs)(N.a,{children:[Object(u.jsx)(N.a,{children:t}),n&&Object(u.jsxs)(N.a,{weight:"bold",margin:{left:"xsmall"},children:[n," ",n>1?"outs":"out"," "]})]}),r&&Object(u.jsx)(ar,{score:r})]}),a&&Object(u.jsx)(rr,{type:a})]})},ir=function(e){var t=e.inning,n=e.halfInning,a=e.plays;return Object(u.jsxs)(qn.a,{background:"light-1",children:[Object(u.jsx)(tr.a,{background:"light-2",pad:"medium",children:Object(u.jsxs)(N.a,{children:[n===r.TOP?"Top":"Bottom"," ",xe(t)]})}),Object(u.jsx)(nr.a,{pad:{horizontal:"medium",vertical:"small"},gap:"small",border:"between",children:a.map((function(e,t){return Object(u.jsx)(cr,Object(T.a)({},e),t)}))})]})},or=function(e){var t;return(t={},Object(z.a)(t,i.PITCHER,"pitcher"),Object(z.a)(t,i.CATCHER,"catcher"),Object(z.a)(t,i.FIRST_BASE,"first baseman"),Object(z.a)(t,i.SECOND_BASE,"second baseman"),Object(z.a)(t,i.THIRD_BASE,"third baseman"),Object(z.a)(t,i.SHORTSTOP,"shortstop"),Object(z.a)(t,i.LEFT_FIELD,"left fielder"),Object(z.a)(t,i.CENTER_FIELD,"center fielder"),Object(z.a)(t,i.LEFT_CENTER,"left center fielder"),Object(z.a)(t,i.RIGHT_CENTER,"right center fielder"),Object(z.a)(t,i.RIGHT_FIELD,"right fielder"),t)[e]},sr=function(e){var t;return(t={},Object(z.a)(t,s.NONE,"strikes"),Object(z.a)(t,s.GROUNDER,"grounds"),Object(z.a)(t,s.LAZY_FLY,"flies"),Object(z.a)(t,s.LINE_DRIVE,"lines"),Object(z.a)(t,s.LONG_FLY,"flies"),Object(z.a)(t,s.POPUP,"pops"),t)[e]},lr=function(e){var t;return null===e?"home":(t={},Object(z.a)(t,c.FIRST,"1st base"),Object(z.a)(t,c.SECOND,"2nd base"),Object(z.a)(t,c.THIRD,"3rd base"),t)[e]},ur=function(e,t){return"{".concat(e,"} out at ").concat(be(t),".")},jr=function(e){var t,n,r,a=e.gameState,i=e.event,l=e.runnersScored,u=e.runnersAfter,j=e.scoreAfter,O=[],d=[],b=function(e){O.push([].concat(Object(W.a)(e),["."]).join(""))};if("stolenBaseAttempt"===i.kind){var f=te(X(a.runners,i.runnerId));i.success?O.push("{".concat(i.runnerId,"} steals ").concat(lr(f),".")):(O.push("{".concat(i.runnerId,"} is caught stealing ").concat(lr(f),".")),n=a.outs+1),d.push(i.runnerId)}else{var p=a.atBat,h=a.runners,m=a.outs,g=i.fieldedBy,x=i.contactType,v=i.runnersOutOnPlay,E=i.basesTaken,y=i.outsOnBasepaths;d.push(p);var I=g&&"".concat(or(g)," {").concat(g,"}");switch(i.type){case o.WALK:O.push("{".concat(p,"} walks."));break;case o.FIELDERS_CHOICE:var R=["{".concat(p,"} hits into a fielder's choice")];I&&(R.push(", fielded by ".concat(I)),t=i.fieldedBy),b(R),O.push(ur(v[0],te(X(h,v[0])))),d.push(v[0]),n=m+1;break;case o.SACRIFICE_FLY:var C=["{".concat(p,"} out on a sacrifice fly")];I&&(C.push(" to ".concat(I)),t=g),b(C),n=m+1;break;case o.DOUBLE_PLAY:O.push("{".concat(p,"} ").concat(sr(x)," into a double play.")),v.forEach((function(e){var t;if(e===p)t=c.FIRST;else{var n=X(h,e);t=x===s.GROUNDER?te(n):n}x!==s.GROUNDER&&e===p||(O.push(ur(e,t)),d.push(e))})),n=m+2;break;case o.OUT:var S=["{".concat(p,"} ").concat(sr(x)," out")];x!==s.NONE&&I&&(S.push(" to ".concat(I)),t=g),b(S),n=m+1;break;case o.HOMERUN:case o.TRIPLE:case o.DOUBLE:case o.SINGLE:var T=[];if(i.type===o.HOMERUN&&3===_.a.size(h)?T.push("{".concat(p,"} hits a grand slam")):T.push("{".concat(p,"} ").concat(function(e){var t;return(t={},Object(z.a)(t,o.SINGLE,"singles"),Object(z.a)(t,o.DOUBLE,"doubles"),Object(z.a)(t,o.TRIPLE,"triples"),Object(z.a)(t,o.HOMERUN,"homers"),t)[e]}(i.type))),x&&T.push(" on a ".concat(me(x).toLowerCase())),g){var L=i.type===o.HOMERUN?or(g).slice(0,-2):I;T.push(" to ".concat(L)),t=g}b(T)}l.length&&(l.forEach((function(e){e!==p&&(O.push("{".concat(e,"} scores.")),d.push(e))})),r=j),le(u,(function(e,t){h[t]!==e&&e!==p&&(O.push("{".concat(e,"} to ").concat(be(t),".")),d.push(e))})),_.a.forEach(y,(function(e,t){var r;O.push("{".concat(t,"} thrown out at ").concat(be(e),".")),d.push(t),n=(null!==(r=n)&&void 0!==r?r:m)+1})),p in E&&O.push("{".concat(p,"} to ").concat(be(E[p])," on the throw."))}return{description:O.join(" "),playerIds:d,position:t,newNumOuts:n,newScore:r}},Or=function(e,t){var n=jr(t),r=n.description,a=n.playerIds,c=n.position,i=n.newNumOuts,o=n.newScore,s=r;return c&&(s=r.replace(new RegExp("{".concat(c,"}")),M(e,function(e,t,n){return _.a.findKey(e.game.present.teams[t].positions,(function(e){return e===n}))}(e,1-t.gameState.halfInning,c)))),a.forEach((function(t){s=s.replace(new RegExp("{".concat(t,"}"),"g"),M(e,t))})),{description:s,outs:i,score:o,type:"plateAppearance"===t.event.kind?t.event.type:void 0}},dr=Object(D.a)(rt,(function(e){return e}),(function(e,t){return e.reduce((function(e,t){var n=t.gameState,r=n.inning,a=n.halfInning;if(e.length){var c=_.a.last(e);c.inning!==r||c.halfInning!==a?e.push({inning:r,halfInning:a,plays:[t]}):c.plays.push(t)}else e.push({inning:r,halfInning:a,plays:[t]});return e}),[]).map((function(e){return{inning:e.inning,halfInning:e.halfInning,plays:e.plays.map((function(e){return Or(t,e)}))}}))})),br=Object(D.a)(dr,(function(e){return e.map((function(e){return{inning:e.inning,halfInning:e.halfInning,plays:e.plays.filter((function(e){return!!e.score}))}})).filter((function(e){return e.plays.length}))})),fr=(Object(D.a)(rt,(function(e){return e}),(function(e,t){var n=_.a.last(e);return n&&Or(t,n)})),Object(D.a)(st,(function(e){return e}),(function(e,t){var n,r=_.a.last(null===(n=_.a.first(e))||void 0===n?void 0:n.gameHistory);return r&&Or(t,r)})),function(){var e=Ot(qe),t=Ot(br),n=Ot(dr),r=Ot(Be),a=Object(j.useState)(r),c=Object(m.a)(a,2),i=c[0],o=c[1],s=Object(j.useMemo)((function(){return n.filter((function(e){return e.inning===i}))}),[n,i]),l=Object(j.useCallback)((function(e){return function(){o(e)}}),[o]);return e?Object(u.jsxs)(x.a,{pad:"medium",flex:{shrink:0},basis:"auto",gap:"small",children:[Object(u.jsxs)(x.a,{direction:"row",justify:"between",children:[Object(u.jsx)(ht.a,{level:4,margin:"none",children:"Scoring"}),Object(u.jsx)(ht.a,{level:4,alignSelf:"end",margin:"none",children:"All Plays"})]}),Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(x.a,{gap:"small",basis:"0",flex:!0,children:t.map((function(e){return Object(u.jsx)(ir,Object(T.a)({},e),"".concat(e.inning,"_").concat(e.halfInning))}))}),Object(u.jsxs)(x.a,{gap:"small",basis:"0",flex:!0,margin:{left:"small"},children:[!s.length&&Object(u.jsx)(N.a,{alignSelf:"center",children:"No plays yet this inning."}),s.map((function(e){return Object(u.jsx)(ir,Object(T.a)({},e),"".concat(e.inning,"_").concat(e.halfInning))}))]}),Object(u.jsx)(Mn.a.Extend,{value:{global:{size:{xxsmall:"32px"}}},children:Object(u.jsx)(x.a,{gap:"xsmall",flex:!1,children:_.a.range(1,r+1).map((function(e){return Object(u.jsx)(x.a,{round:{size:"4px"},border:{size:"small"},width:"xxsmall",height:"xxsmall",justify:"center",align:"center",hoverIndicator:!(e===i),background:e===i?"brand":void 0,onClick:l(e),children:Object(u.jsx)(N.a,{children:e})},e)}))})})]})]}):Object(u.jsx)(E.a,{to:"/teams"})}),pr={global:{colors:{brand:"#1c5253","accent-3":"#C3DFE0","status-critical-light":"#ffcccc"},focus:{outline:{color:"transparent"}}},rangeInput:{track:{height:"6px",extend:{borderRadius:"3px"}}},accordion:{border:void 0}},hr=n(161),mr={atBats:0,hits:0,doubles:0,triples:0,homeRuns:0,walks:0,stolenBases:0,caughtStealing:0,runsBattedIn:0,runsScored:0,strikeouts:0,sacrificeFlies:0,groundIntoDoublePlays:0,leftOnBase:0},gr=Object(yt.b)({name:"players",initialState:{},reducers:{addPlayer:{reducer:function(e,t){var n,r,a=t.payload;n=a,r=e,_.a.some(r,(function(e){return e.firstName===n.firstName&&e.lastName===n.lastName}))||(e[a.playerId]=Object(T.a)(Object(T.a)({},a),{},{games:0,stats:mr}))},prepare:function(e){return{payload:Object(T.a)(Object(T.a)({},e),{},{playerId:Object(hr.a)()})}}}}}),xr=gr.actions,vr=gr.reducer,Er=xr.addPlayer,yr=vr,Ir=["Sam Myers","Steven Chan","Cameron Walls","Carlos Ortega","Yukhi Yamashita","James Lockwood","Matthew Chinn","Jason Tong","Andrew Silva","Quincy Zhao","Dale Zelmon","Wynn Padula","Leland Bailey","Michael Cross","Brendan Wilson","Dan Keating","Max Bruk","Hector Franco","Mike Basta"],Rr=function(){var e=jt(),t=Ot(Ke),n=Ot(Ae),r=Object(m.a)(n,2),a=r[0],c=r[1],i=Ot(at),o=Ot(it),s=Object(j.useCallback)((function(){e(Nt.extendGame())}),[e]),O=Object(j.useCallback)((function(){e(Nt.resetGame())}),[e]),d=Object(j.useCallback)((function(){e(Nt.fullResetGame())}),[e]);return t===l.IN_PROGRESS?Object(u.jsx)(E.a,{to:"/field"}):t===l.NOT_STARTED?Object(u.jsx)(E.a,{to:"/teams"}):Object(u.jsxs)(v.a,{flex:!0,background:"brand",justify:"center",align:"center",children:[Object(u.jsxs)(x.a,{align:"center",children:[Object(u.jsxs)(ht.a,{level:2,margin:{bottom:"small"},children:[a>c?"Away":"Home"," team wins!"]}),Object(u.jsxs)(ht.a,{margin:{bottom:"large"},children:[a," - ",c]})]}),Object(u.jsxs)(x.a,{gap:"small",children:[i<o&&Object(u.jsx)(R.a,{color:"light-1",plain:!1,label:"Play another inning",onClick:s}),Object(u.jsx)(R.a,{color:"status-ok",plain:!1,label:"New Game (same teams)",onClick:O}),Object(u.jsx)(R.a,{color:"status-ok",plain:!1,label:"New Game (reset teams)",onClick:d})]})]})},Cr=function(){var e,t=jt(),n=Object(E.h)().pathname,r=Object(E.g)(),a=Ot(Ve);return e=function(){Ir.forEach((function(e){var n=e.split(" "),r=Object(m.a)(n,2),a=r[0],c=r[1];t(Er({firstName:a,lastName:c}))}))},Object(j.useEffect)(e,[]),Object(j.useEffect)((function(){a&&"/game-over"!==n&&r.replace("/game-over")}),[n,a,r]),Object(u.jsx)(g.a,{full:!0,theme:pr,children:Object(u.jsxs)(x.a,{height:"100%",children:[!a&&Object(u.jsx)(_t,{}),Object(u.jsx)(v.a,{flex:!0,overflow:{vertical:"auto"},children:Object(u.jsxs)(E.d,{children:[Object(u.jsx)(E.b,{path:"/game-over",children:Object(u.jsx)(Rr,{})}),Object(u.jsx)(E.b,{path:"/teams",children:Object(u.jsx)(Kn,{})}),Object(u.jsx)(E.b,{path:"/field",children:Object(u.jsx)(_n,{})}),Object(u.jsx)(E.b,{path:"/box-score",children:Object(u.jsx)(er,{})}),Object(u.jsx)(E.b,{path:"/plays",children:Object(u.jsx)(fr,{})}),Object(u.jsx)(E.b,{path:"/",children:Object(u.jsx)(E.a,{to:"/teams"})})]})})]})})},Sr=n(66),Tr=n(91),Lr=n.n(Tr),kr=Object(Sr.a)({key:"root",storage:Lr.a},{game:At,players:yr,prompts:ln}),wr=Object(yt.a)({reducer:kr,middleware:Object(yt.c)({serializableCheck:!1,immutableCheck:!1})}),Nr=Object(Sr.b)(wr),Pr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,172)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Ar=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(116);b.a.render(Object(u.jsx)(f.a,{store:wr,children:Object(u.jsx)(h.a,{loading:null,persistor:Nr,children:Object(u.jsx)(p.a,{children:Object(u.jsx)(O.a.StrictMode,{children:Object(u.jsx)(Cr,{})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ar?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Fr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Fr(t,e)}))}}(),Pr()}},[[117,1,2]]]);
//# sourceMappingURL=main.0643b62e.chunk.js.map