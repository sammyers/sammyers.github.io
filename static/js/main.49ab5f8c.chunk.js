(this["webpackJsonpdugout-companion"]=this["webpackJsonpdugout-companion"]||[]).push([[0],{120:function(e,t,n){},121:function(e,t,n){"use strict";n.r(t);var r,a,c,i,s,o,l,u=n(1),j=n(0),O=n.n(j),d=n(21),b=n.n(d),f=n(26),p=n(28),h=n(79),m=n(8),g=n(167),x=n(33),v=n(163),E=n(14),y=n(124),I=n(151),R=n(126),C=n(125),S=n(152),T=n(5),L=n(35),k=n(170),N=function(e){var t=Object(E.i)({path:e.to});return Object(u.jsx)(k.a,Object(T.a)({color:t?"accent-4":"accent-3",as:function(e){e.colorProp,e.hasIcon,e.hasLabel;var t=Object(L.a)(e,["colorProp","hasIcon","hasLabel"]);return Object(u.jsx)(p.b,Object(T.a)({},t))}},e))},w=n(171),P=n(141),A=n(142),F=n(143),B=n(144),D=n(27),H=n(4),_=n.n(H),G=n(93),U=function(e){var t=e.firstName,n=e.lastName;return"".concat(t," ").concat(n[0])},M=function(e,t){return e.players[t]},Y=function(e,t){var n=M(e,t);return n?U(n):""},W=function(e){return e.players},z=Object(D.a)(W,(function(e){return Object.values(e)})),Z=Object(D.a)(W,(function(e){return function(t){return e[t]}})),K=n(23);!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(r||(r={})),function(e){e[e.AWAY=0]="AWAY",e[e.HOME=1]="HOME"}(a||(a={})),function(e){e.FIRST="FIRST",e.SECOND="SECOND",e.THIRD="THIRD"}(c||(c={})),function(e){e.PITCHER="PITCHER",e.CATCHER="CATCHER",e.FIRST_BASE="FIRST_BASE",e.SECOND_BASE="SECOND_BASE",e.THIRD_BASE="THIRD_BASE",e.SHORTSTOP="SHORTSTOP",e.LEFT_FIELD="LEFT_FIELD",e.CENTER_FIELD="CENTER_FIELD",e.LEFT_CENTER="LEFT_CENTER",e.RIGHT_CENTER="RIGHT_CENTER",e.RIGHT_FIELD="RIGHT_FIELD"}(i||(i={})),function(e){e.OUT="OUT",e.WALK="WALK",e.SINGLE="SINGLE",e.DOUBLE="DOUBLE",e.TRIPLE="TRIPLE",e.HOMERUN="HOMERUN",e.SACRIFICE_FLY="SACRIFICE_FLY",e.FIELDERS_CHOICE="FIELDERS_CHOICE",e.DOUBLE_PLAY="DOUBLE_PLAY"}(s||(s={})),function(e){e.NONE="NONE",e.GROUNDER="GROUNDER",e.LINE_DRIVE="LINE_DRIVE",e.POPUP="POPUP",e.LAZY_FLY="LAZY_FLY",e.LONG_FLY="LONG_FLY"}(o||(o={})),function(e){e.NOT_STARTED="NOT_STARTED",e.IN_PROGRESS="IN_PROGRESS",e.FINISHED="FINISHED"}(l||(l={}));var q=n(6),V=Object(D.a)((function(e){return e.halfInning}),(function(e){return e===r.BOTTOM?a.HOME:a.AWAY})),J=Object(D.a)((function(e){return e.teams}),V,(function(e,t){return e[t].lineup})),Q=Object(D.a)((function(e){return e.atBat}),J,(function(e,t){var n=_.a.findIndex(t,(function(t){return t===e}));return n===t.length-1?t[0]:t[n+1]})),X=_.a.keys(i),$=function(e){return e.lineup.length>9},ee=function(e){return $(e)?X.filter((function(e){return e!==i.CENTER_FIELD})):X.filter((function(e){return![i.RIGHT_CENTER,i.LEFT_CENTER].includes(e)}))},te=function(e,t){return _.a.findKey(e,(function(e){return e===t}))},ne=function(e,t,n){return n?(e[n]=e[t],delete e[t],!1):(delete e[t],!0)},re=function(e,t){delete e[te(e,t)]},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return-1===t?oe(e):0===t?e:e===c.THIRD?null:e===c.SECOND?t>1?null:c.THIRD:t>2?null:2===t?c.THIRD:c.SECOND},ce=function(e){switch(e){case s.HOMERUN:return 4;case s.TRIPLE:return 3;case s.DOUBLE:return 2;case s.SINGLE:case s.WALK:return 1;default:return 0}},ie=function(e){switch(e){case s.TRIPLE:return c.THIRD;case s.DOUBLE:return c.SECOND;case s.SINGLE:case s.WALK:case s.FIELDERS_CHOICE:return c.FIRST;default:return null}},se=function(e){var t;return null===e?4:(t={},Object(q.a)(t,c.FIRST,1),Object(q.a)(t,c.SECOND,2),Object(q.a)(t,c.THIRD,3),t)[e]},oe=function(e){switch(e){case null:return c.THIRD;case c.THIRD:return c.SECOND;case c.SECOND:return c.FIRST;case c.FIRST:return}},le=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.FIRST,a=oe(t);return se(t)-se(r)<=0||(!a||!!n[a]&&e(a,n,r))},ue=function(e){return _.a.toPairs(e).sort((function(e,t){var n=Object(m.a)(e,1)[0],r=Object(m.a)(t,1)[0];return se(n)-se(r)}))},je=function(e){return _.a.last(ue(e))},Oe=function(e,t){var n=ue(e);_.a.forEachRight(n,(function(e){var n=Object(m.a)(e,2),r=n[0],a=n[1];return t(a,r)}))},de=function(e,t,n){var r=[],a=Object(T.a)({},e),i=ce(t);return _.a.times(i,(function(e){Oe(a,(function(e,n){le(n,a,ie(t))&&ne(a,n,ae(n))&&r.push(e)})),0===e&&ie(t)&&(a[c.FIRST]=n)})),[a,r]},be=function(e){var t=[];return Oe(e,(function(n,r){le(r,e)&&ne(e,r,ae(r))&&t.push(n)})),t},fe=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e.score[V(e)]+=t},pe=function(e,t){var n=e.atBat,r=e.inning,a=e.halfInning,i=e.outs,l=e.runners,u=e.score,j={event:t,gameState:{atBat:n,inning:r,halfInning:a,outs:i,runners:Object(T.a)({},l),score:Object(K.a)(u)},runnersBattedIn:[],runnersScored:[],runnersAfter:l,scoreAfter:u},O=function(e){var t,n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r&&(n=j.runnersBattedIn).push.apply(n,Object(K.a)(e));(t=j.runnersScored).push.apply(t,Object(K.a)(e))};if("stolenBaseAttempt"===t.kind){var d=function(e,t){return te(function(e){return e.runners}(e),t)}(e,t.runnerId);if(t.success){var b=ae(d);delete e.runners[d],b?e.runners[b]=t.runnerId:(fe(e),O([t.runnerId],!1))}else delete e.runners[d],e.outs++}else if("plateAppearance"===t.kind){switch(t.type){case s.HOMERUN:fe(e,_.a.size(e.runners)+1),O([].concat(Object(K.a)(_.a.values(e.runners)),[n])),e.runners={};break;case s.TRIPLE:fe(e,_.a.size(e.runners)),O(_.a.values(e.runners)),e.runners=Object(q.a)({},c.THIRD,n);break;case s.DOUBLE:case s.SINGLE:case s.WALK:var f=de(e.runners,t.type,n),p=Object(m.a)(f,2),h=p[0],g=p[1];e.runners=h,fe(e,g.length),O(g);break;case s.SACRIFICE_FLY:_.a.times(t.runsScoredOnSacFly,(function(){var t=je(l),n=Object(m.a)(t,2),r=n[0],a=n[1];ne(l,r,null),fe(e),O([a])})),e.outs++;break;case s.FIELDERS_CHOICE:re(e.runners,t.runnersOutOnPlay[0]);var x=be(e.runners);e.runners[c.FIRST]=n,x.length&&i<2&&(fe(e),O(x)),e.outs++;break;case s.DOUBLE_PLAY:if(e.outs+=2,t.runnersOutOnPlay.forEach((function(t){re(e.runners,t)})),t.contactType===o.GROUNDER){var v=be(e.runners);v.length&&0===i&&(fe(e,v.length),O(v,!1)),t.runnersOutOnPlay.includes(n)||(e.runners[c.FIRST]=n)}break;case s.OUT:if(t.contactType===o.GROUNDER){var E=be(e.runners);E.length&&i<2&&(fe(e,E.length),O(E))}e.outs++}Oe(e.runners,(function(n,r){n in t.outsOnBasepaths?(delete e.runners[r],e.outs++):n in t.basesTaken&&ne(e.runners,r,t.basesTaken[n])&&(fe(e),O([n],t.type!==s.DOUBLE_PLAY))})),j.runnersAfter=e.runners,j.scoreAfter=e.score,e.gameHistory.push(j)}},he=function(e){var t;return null===e?"home":(t={},Object(q.a)(t,c.FIRST,"1st"),Object(q.a)(t,c.SECOND,"2nd"),Object(q.a)(t,c.THIRD,"3rd"),t)[e]},me=function(e){var t;return(t={},Object(q.a)(t,i.PITCHER,"P"),Object(q.a)(t,i.CATCHER,"C"),Object(q.a)(t,i.FIRST_BASE,"1B"),Object(q.a)(t,i.SECOND_BASE,"2B"),Object(q.a)(t,i.THIRD_BASE,"3B"),Object(q.a)(t,i.SHORTSTOP,"SS"),Object(q.a)(t,i.LEFT_FIELD,"LF"),Object(q.a)(t,i.CENTER_FIELD,"CF"),Object(q.a)(t,i.LEFT_CENTER,"LCF"),Object(q.a)(t,i.RIGHT_CENTER,"RCF"),Object(q.a)(t,i.RIGHT_FIELD,"RF"),t)[e]},ge=function(e){var t;return(t={},Object(q.a)(t,s.OUT,"Out"),Object(q.a)(t,s.SINGLE,"Single"),Object(q.a)(t,s.DOUBLE,"Double"),Object(q.a)(t,s.TRIPLE,"Triple"),Object(q.a)(t,s.HOMERUN,"Home Run"),Object(q.a)(t,s.WALK,"Walk"),Object(q.a)(t,s.SACRIFICE_FLY,"Sacrifice Fly"),Object(q.a)(t,s.FIELDERS_CHOICE,"Fielder's Choice"),Object(q.a)(t,s.DOUBLE_PLAY,"Double Play"),t)[e]},xe=function(e){var t;return(t={},Object(q.a)(t,o.GROUNDER,"Groundout"),Object(q.a)(t,o.LAZY_FLY,"Lazy flyout"),Object(q.a)(t,o.LINE_DRIVE,"Lineout"),Object(q.a)(t,o.LONG_FLY,"Long flyout"),Object(q.a)(t,o.POPUP,"Popout"),Object(q.a)(t,o.NONE,"Strikeout"),t)[e]},ve=function(e){var t;return(t={},Object(q.a)(t,o.GROUNDER,"Ground ball"),Object(q.a)(t,o.LAZY_FLY,"Lazy fly ball"),Object(q.a)(t,o.LINE_DRIVE,"Line drive"),Object(q.a)(t,o.LONG_FLY,"Long fly ball"),Object(q.a)(t,o.POPUP,"Pop fly"),t)[e]},Ee=function(e){if(!e.attemptedAdvance)return"Held at ".concat(he(e.endBase));if(null===e.endBase)return e.successfulAdvance?"Scored":"Out at home";var t=he(e.endBase);return e.successfulAdvance?"Took ".concat(t):"Out at ".concat(t)},ye=function(e){var t;switch(e){case 1:t="st";break;case 2:t="nd";break;case 3:t="rd";break;default:t="th"}return"".concat(e).concat(t)},Ie=_.a.values(o).filter((function(e){return e!==o.NONE})),Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie;return e.map((function(e,t){return{id:t,contactType:e,label:ve(e)}}))},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_.a.values(o);return e.map((function(e,t){return{id:t,contactType:e,label:xe(e)}}))},Se=[i.PITCHER,i.CATCHER,i.FIRST_BASE,i.SECOND_BASE,i.THIRD_BASE,i.SHORTSTOP],Te=function(e){return[i.LEFT_FIELD].concat(Object(K.a)(e?[i.LEFT_CENTER,i.RIGHT_CENTER]:[i.CENTER_FIELD]),[i.RIGHT_FIELD])},Le=function(e){return[].concat(Se,Object(K.a)(Te(e)))},ke=function(e){return e.map((function(e,t){return{id:t,position:e,label:me(e)}}))},Ne=function(e,t,n){var r;switch(e){case o.GROUNDER:r=t?Le(n):Se;break;case o.POPUP:r=Se;break;case o.LAZY_FLY:case o.LONG_FLY:r=Te(n);break;case o.LINE_DRIVE:r=Le(n).filter((function(e){return e!==i.CATCHER}));break;case o.NONE:r=[]}return ke(r)},we=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=je(e);if(a){var c=Object(m.a)(a,1),i=c[0];return Pe(e,t,i,null,n,r)}},Pe=function e(t,n,r,a,i,s){var o=t[r],l=function(e,t){return null===t?je(e):(Oe(e,(function(e,r){if(se(r)<se(t))return n=[r,e],!1})),n);var n}(t,r),u=function(e){if(!e.length)return[];var t=_.a.flatten(_.a.map(e,(function(e){return[!0,!1].map((function(t){return{attemptedAdvance:!0,successfulAdvance:t,endBase:e}}))})));return[{attemptedAdvance:!1,endBase:oe(t[0].endBase)}].concat(Object(K.a)(t)).map((function(e,t){var n=Object.assign({},e);return Object(T.a)({id:t},n)}))}(function(e,t){var n=[].concat(Object(K.a)(_.a.values(c)),[null]);return null===t?n.filter((function(t){return se(t)>se(e)})):n.filter((function(n){return _.a.inRange(se(n),se(e)+1,se(t))}))}(r,a)).filter((function(e){return e.endBase||s})),j=o in i?_.a.findIndex(u,(function(e){return e.endBase===i[o]})):0;if(!(u.length<2)){if(!l)return{runnerId:o,options:u,defaultOption:j};var O=Object(m.a)(l,1)[0],d=Object(T.a)({},t);return{runnerId:o,options:u,defaultOption:j,getTrailingRunnerOptions:function(t){var c=n,o=r;if(t.attemptedAdvance)if(o=t.endBase,t.successfulAdvance)o?ne(d,r,o):delete d[r];else{if(delete d[r],3===++c)return;o=a}return e(d,c,O,o,i,s)}}}},Ae=function(e){return e.game.present.teams},Fe=function(e){return e.game.present.runners},Be=function(e){return e.game.present.outs},De=function(e){return e.game.present.score},He=function(e){return e.game.present.halfInning},_e=function(e){return e.game.present.inning},Ge=function(e){return e.game.present.atBat},Ue=Object(D.a)(He,(function(e){return e===r.BOTTOM?a.HOME:a.AWAY})),Me=Object(D.a)(Ae,Ue,(function(e,t){return e[t].lineup})),Ye=Object(D.a)(Ae,He,(function(e,t){return $(e[1-t])})),We=Object(D.a)((function(e){return e}),Fe,(function(e,t){return _.a.mapValues(t,(function(t){return Y(e,t)}))})),ze=Object(D.a)((function(e){return e}),(function(e){return e.game.present.atBat}),(function(e,t){return t?Y(e,t):""})),Ze=function(e,t,n){return _.a.findKey(e[t].positions,(function(e){return e===n}))},Ke=function(e,t){return _.a.find(Ae(e),(function(e){return e.lineup.includes(t)})).positions[t]},qe=Object(D.a)(Ae,(function(e){return e.map((function(e){return e.lineup}))})),Ve=Object(D.a)(z,qe,(function(e,t){var n=_.a.flatten(t);return e.filter((function(e){var t=e.playerId;return!n.includes(t)}))})),Je=Object(D.a)(qe,(function(e){var t=Object(m.a)(e,2),n=t[0].length,r=t[1].length;return Math.abs(n-r)<=1&&n>=8&&r>=8})),Qe=function(e){return e.game.present.status},Xe=Object(D.a)(Qe,(function(e){return e===l.IN_PROGRESS})),$e=Object(D.a)(Qe,(function(e){return e===l.FINISHED})),et=Object(D.a)(Fe,Be,(function(e,t){var n=new Set;return _.a.size(e)||n.add(s.FIELDERS_CHOICE),2!==t&&_.a.size(e)||(n.add(s.DOUBLE_PLAY),n.add(s.SACRIFICE_FLY)),_.a.values(s).filter((function(e){return!n.has(e)}))})),tt=function(e,t){var n=_.a.findIndex(t,(function(t){return t===e}));return n===t.length-1?t[0]:t[n+1]},nt=Object(D.a)(Ge,Me,tt),rt=Object(D.a)(nt,Me,tt),at=Object(D.a)((function(e){return e}),nt,Y),ct=Object(D.a)((function(e){return e}),rt,Y),it=function(e){return Object(D.a)(Ge,Be,Fe,Ye,(function(t,n,r,a){return function(e,t,n,r,a){switch(e){case s.WALK:return;case s.HOMERUN:return{kind:"hit",contactOptions:{options:Re([o.LINE_DRIVE,o.LONG_FLY])},getNextOptions:function(){return{options:ke(Te(a))}}};case s.OUT:return{kind:"out",contactOptions:{required:!0,options:Ce()},getNextOptions:function(e){var t=Object(T.a)({},r);if(e!==o.NONE){var c={options:Ne(e,!1,a)};return 2===n?{fielderOptions:c}:(e===o.GROUNDER&&be(t),{fielderOptions:c,runnerOptions:we(t,n+1,{},e===o.GROUNDER)})}}};case s.SACRIFICE_FLY:var i={options:ke(Te(a))};return 1===_.a.size(r)?{kind:"sacrificeFly",fielderOptions:i}:{kind:"sacrificeFly",fielderOptions:i,runnersScoredOptions:_.a.range(1,_.a.size(r)+1),getNextOptions:function(e){var t=Object(T.a)({},r);return _.a.times(e,(function(){ne(t,je(t)[0],null)})),we(t,n+1,{},!1)}};case s.FIELDERS_CHOICE:return{kind:"fieldersChoice",outOnPlayOptions:{runnerIds:_.a.values(r)},fielderOptions:{options:Ne(o.GROUNDER,!1,a)},getNextOptions:n<2?function(e){var a=Object(T.a)({},r);return re(a,e),be(a),a[c.FIRST]=t,we(a,n+1)}:void 0};case s.DOUBLE_PLAY:var l=_.a.map(_.a.reverse(ue(r)),1);return{kind:"doublePlay",contactOptions:{options:Ce(Ie),required:!0},getNextOptions:function(e){var i={options:Ne(e,!1,a)};return 1===_.a.size(r)?{fielderOptions:i,outOnPlayOptions:{runnerIds:[].concat(Object(K.a)(l),[t]),multiple:!0}}:e===o.GROUNDER?{fielderOptions:i,outOnPlayOptions:{runnerIds:[].concat(Object(K.a)(l),[t]),multiple:!0},getNextOptions:0===n?function(e){var a=Object(T.a)({},r);return e.forEach((function(e){return re(a,e)})),be(a),e.includes(t)||(a[c.FIRST]=t),we(a,n+2)}:void 0}:{outOnPlayOptions:{runnerIds:l},fielderOptions:i,getNextOptions:0===n?function(e){var t=Object(T.a)({},r);return re(t,e[0]),we(t,n+2)}:void 0}}};default:var u=de(r,e,t),j=Object(m.a)(u,1)[0],O=_.a.invert(r),d=_.a.mapValues(O,(function(t){return ae(t,ce(e))}));return{kind:"hit",contactOptions:{options:Re()},runnerOptions:we(j,n,d),getNextOptions:function(e){return{options:Ne(e,!0,a)}}}}}(e,t,n,r,a)}))},st=function(e){return e.game.present.gameHistory},ot=function(e){return e.game.present.gameLength},lt=Object(D.a)(_e,He,De,(function(e,t,n){var a=Object(m.a)(n,2),c=a[0],i=a[1];return t===r.BOTTOM&&i>c?Math.max(7,e+1):Math.max(7,e)})),ut=function(){return 12},jt=Object(D.a)(_e,ot,(function(e,t){return e>t})),Ot=function(e){return e.game.future},dt=Object(D.a)((function(e){return e.game.past}),(function(e){return e.length>0})),bt=Object(D.a)(Ot,(function(e){return e.length>0})),ft=function(){return Object(f.c)()},pt=f.d,ht=n(139),mt=n(140),gt={fontWeight:"bold"},xt=function(){var e=pt(De),t=Object(m.a)(e,2),n=t[0],c=t[1],i=pt(Ue),s=pt(He),o=pt(_e),l=pt(Be);return Object(u.jsxs)(x.a,{direction:"row",gap:"medium",align:"center",children:[Object(u.jsxs)(w.a,{children:[l," ",1===l?"out":"outs"]}),Object(u.jsxs)(x.a,{direction:"row",align:"center",children:[s===r.TOP?Object(u.jsx)(ht.a,{}):Object(u.jsx)(mt.a,{}),Object(u.jsx)(w.a,{children:o})]}),Object(u.jsx)(P.a,{children:Object(u.jsxs)(A.a,{children:[Object(u.jsxs)(F.a,{style:i===a.AWAY?gt:void 0,children:[Object(u.jsx)(B.a,{scope:"row",children:"Away"}),Object(u.jsx)(B.a,{children:n})]}),Object(u.jsxs)(F.a,{style:i===a.HOME?gt:void 0,children:[Object(u.jsx)(B.a,{scope:"row",children:"Home"}),Object(u.jsx)(B.a,{children:c})]})]})})]})},vt=n(172),Et=n(173),yt=n(147),It=n(145),Rt=n(146),Ct=n(149),St=n(18),Tt=n(46),Lt=n.n(Tt),kt={name:"",lineup:[],positions:{}},Nt={status:l.NOT_STARTED,teams:[kt,kt],inning:1,halfInning:r.TOP,runners:{},outs:0,gameHistory:[],score:[0,0],gameLength:9},wt=function(e){var t=_.a.values(e.positions);return ee(e).find((function(e){return!t.includes(e)}))},Pt=function(e){var t=$(e);_.a.forEach(e.positions,(function(n,r){t&&n===i.CENTER_FIELD?_.a.some(e.positions,(function(e){return e===i.LEFT_CENTER}))?_.a.some(e.positions,(function(e){return e===i.RIGHT_CENTER}))?e.positions[r]=wt(e):e.positions[r]=i.RIGHT_CENTER:e.positions[r]=i.LEFT_CENTER:!t&&[i.RIGHT_CENTER,i.LEFT_CENTER].includes(n)&&(_.a.some(e.positions,(function(e){return e===i.CENTER_FIELD}))?e.positions[r]=wt(e):e.positions[r]=i.CENTER_FIELD)}))},At=function(e){var t=Q(e);3===e.outs?(e.atBat=e.upNextHalfInning,e.upNextHalfInning=t,e.runners={},e.outs=0,e.halfInning===r.BOTTOM&&e.inning++,e.halfInning=1-e.halfInning):e.atBat=t},Ft=Object(St.b)({name:"game",initialState:Nt,reducers:{addPlayerToGame:function(e,t){var n=t.payload,r=e.teams[n.team];r.lineup.includes(n.playerId)||(r.lineup.push(n.playerId),r.positions[n.playerId]=wt(r),Pt(r))},movePlayer:function(e,t){var n=t.payload;if(n.fromTeam===n.toTeam){var r=e.teams[n.fromTeam];r.lineup=function(e,t,n){var r=Array.from(e),a=r.splice(t,1),c=Object(m.a)(a,1)[0];return r.splice(n,0,c),r}(r.lineup,n.startIndex,n.endIndex)}else{var a=e.teams[n.fromTeam],c=e.teams[n.toTeam],i=function(e,t,n,r){var a=Array.from(e),c=Array.from(t),i=a.splice(n,1),s=Object(m.a)(i,1)[0];return c.splice(r,0,s),[a,c]}(a.lineup,c.lineup,n.startIndex,n.endIndex),s=Object(m.a)(i,2),o=s[0],l=s[1],u=a.lineup[n.startIndex];a.lineup=o,c.lineup=l,_.a.findKey(c.positions,(function(e){return e===a.positions[u]}))||!ee(c).includes(a.positions[u])?c.positions[u]=wt(c):c.positions[u]=a.positions[u],delete a.positions[u],Pt(a),Pt(c)}},removePlayerFromGame:function(e,t){var n=t.payload;e.teams.forEach((function(e){e.lineup=e.lineup.filter((function(e){return e!==n})),delete e.positions[n],Pt(e)}))},changePlayerPosition:function(e,t){var n=t.payload,r=e.teams.find((function(e){return e.lineup.includes(n.playerId)})).positions,a=_.a.findKey(r,(function(e){return e===n.position}));a&&(r[a]=r[n.playerId]),r[n.playerId]=n.position},startGame:function(e){e.atBat=e.teams[0].lineup[0],e.upNextHalfInning=e.teams[1].lineup[0],e.status=l.IN_PROGRESS},recordGameEvent:function(e,t){var n=t.payload;pe(e,n);var a=Object(m.a)(e.score,2),c=a[0],i=a[1],s=3===e.outs&&e.halfInning===r.TOP&&c<i,o=3===e.outs&&e.halfInning===r.BOTTOM&&c>i;e.inning>=e.gameLength&&(s||o||e.halfInning===r.BOTTOM&&c<i)?e.status=l.FINISHED:At(e)},changeGameLength:function(e,t){var n=t.payload;e.gameLength=n},incrementGameLength:function(e){e.gameLength+=1},decrementGameLength:function(e){e.gameLength-=1},extendGame:function(e){e.gameLength=Math.max(e.inning,e.gameLength)+1,e.status=l.IN_PROGRESS,At(e)},resetGame:function(e){return Object(T.a)(Object(T.a)({},Nt),{},{teams:e.teams})},fullResetGame:function(){return Object(T.a)({},Nt)}}}),Bt=Ft.actions,Dt=Ft.reducer,Ht=Lt()(Dt,{filter:Object(Tt.includeAction)(Bt.recordGameEvent.type),limit:10,syncFilter:!0}),_t=function(){var e=ft(),t=Object(j.useCallback)((function(){e(Bt.resetGame())}),[e]);return Object(u.jsxs)(x.a,{pad:"small",width:"small",gap:"small",children:[Object(u.jsx)(w.a,{textAlign:"center",size:"small",children:"Are you sure you want to reset the game?"}),Object(u.jsx)(R.a,{size:"small",color:"status-critical",label:"Reset",onClick:t})]})},Gt=function(){var e=ft(),t=pt(lt),n=pt(ut),r=pt(ot),a=pt(Xe),c=pt(jt),i=Object(j.useState)(!1),s=Object(m.a)(i,2),o=s[0],l=s[1],O=Object(j.useCallback)((function(t){var n=t.target;e(Bt.changeGameLength(parseInt(n.value)))}),[e]),d=Object(j.useCallback)((function(){return e(Bt.decrementGameLength())}),[e]),b=Object(j.useCallback)((function(){return e(Bt.incrementGameLength())}),[e]);return Object(u.jsxs)(x.a,{pad:{vertical:"medium",horizontal:"small"},gap:"medium",children:[Object(u.jsxs)(x.a,{children:[Object(u.jsx)(vt.a,{level:5,margin:"none",alignSelf:"center",children:"Game Length"}),Object(u.jsxs)(x.a,{direction:"row",align:"center",gap:"xsmall",children:[Object(u.jsx)(R.a,{icon:Object(u.jsx)(It.a,{}),onClick:d,disabled:r===t||c}),Object(u.jsx)(Et.a,{step:1,min:t,max:n,value:r,onChange:O,disabled:c}),Object(u.jsx)(R.a,{icon:Object(u.jsx)(Rt.a,{}),onClick:b,disabled:r===n||c})]}),Object(u.jsxs)(w.a,{size:"small",alignSelf:"center",color:c?"status-critical":void 0,children:[c?"In extra":r," innings"]})]}),a&&Object(u.jsx)(yt.a,{label:"Reset game",icon:Object(u.jsx)(Ct.a,{color:"status-critical"}),color:"status-critical",alignSelf:"center",open:o,onOpen:function(){return l(!0)},dropContent:Object(u.jsx)(_t,{}),dropProps:{align:{top:"bottom"}},onClose:function(){return l(!1)}})]})},Ut=n(150),Mt=function(e){var t=e.bases,n=Object(L.a)(e,["bases"]),r=t[c.FIRST],a=t[c.SECOND],i=t[c.THIRD];return Object(u.jsx)(Ut.a,Object(T.a)(Object(T.a)({size:"large"},n),{},{children:Object(u.jsxs)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48",width:"24",height:"24",children:[Object(u.jsxs)("defs",{children:[Object(u.jsx)("path",{d:"M24 25.73L13.11 14.84L24 3.95L34.89 14.84L24 25.73Z",id:"a1RZhYfL4q"}),Object(u.jsx)("clipPath",{id:"clipg3BqRYPvvE",children:Object(u.jsx)("use",{xlinkHref:"#a1RZhYfL4q",opacity:"1"})}),Object(u.jsx)("path",{d:"M36.31 38.05L25.42 27.16L36.31 16.27L47.2 27.16L36.31 38.05Z",id:"aqb5ZIsm9"}),Object(u.jsx)("clipPath",{id:"clipa6tqurtbA",children:Object(u.jsx)("use",{xlinkHref:"#aqb5ZIsm9",opacity:"1"})}),Object(u.jsx)("path",{d:"M11.69 38.05L0.8 27.16L11.69 16.27L22.58 27.16L11.69 38.05Z",id:"bosriBPNJ"}),Object(u.jsx)("clipPath",{id:"cliph2h312r3G7",children:Object(u.jsx)("use",{xlinkHref:"#bosriBPNJ",opacity:"1"})})]}),Object(u.jsx)("g",{children:Object(u.jsxs)("g",{children:[Object(u.jsxs)("g",{children:[Object(u.jsx)("use",{xlinkHref:"#aqb5ZIsm9",opacity:"1",fill:"#000000",fillOpacity:r?"1":"0"}),Object(u.jsx)("g",{clipPath:"url(#clipa6tqurtbA)",children:Object(u.jsx)("use",{xlinkHref:"#aqb5ZIsm9",opacity:"1",fillOpacity:"0",stroke:"#000000",strokeWidth:"2",strokeOpacity:"1"})})]}),Object(u.jsxs)("g",{children:[Object(u.jsx)("use",{xlinkHref:"#a1RZhYfL4q",opacity:"1",fill:"#000000",fillOpacity:a?"1":"0"}),Object(u.jsx)("g",{clipPath:"url(#clipg3BqRYPvvE)",children:Object(u.jsx)("use",{xlinkHref:"#a1RZhYfL4q",opacity:"1",fillOpacity:"0",stroke:"#000000",strokeWidth:"2",strokeOpacity:"1"})})]}),Object(u.jsxs)("g",{children:[Object(u.jsx)("use",{xlinkHref:"#bosriBPNJ",opacity:"1",fill:"#000000",fillOpacity:i?"1":"0"}),Object(u.jsx)("g",{clipPath:"url(#cliph2h312r3G7)",children:Object(u.jsx)("use",{xlinkHref:"#bosriBPNJ",opacity:"1",fillOpacity:"0",stroke:"#000000",strokeWidth:"2",strokeOpacity:"1"})})]})]})})]})}))},Yt=function(){var e=ft(),t=Object(E.g)(),n=pt(Xe),r=pt(Je),a=pt(We),c=Object(j.useCallback)((function(){e(Bt.startGame()),t.push("/field")}),[e,t]),i=Object(j.useRef)(null),s=Object(j.useState)(!1),o=Object(m.a)(s,2),l=o[0],O=o[1],d=Object(j.useCallback)((function(){return O((function(e){return!e}))}),[O]);return Object(u.jsxs)(y.a,{background:"brand",children:[Object(u.jsxs)(I.a,{direction:"row",pad:"medium",children:[Object(u.jsx)(N,{to:"/teams",children:"Teams"}),n&&Object(u.jsx)(N,{to:"/field",children:"Field"}),n&&Object(u.jsx)(N,{to:"/box-score",children:"Box Score"}),n&&Object(u.jsx)(N,{to:"/plays",children:"Plays"})]}),Object(u.jsxs)(x.a,{direction:"row",margin:{right:"small"},children:[n&&Object(u.jsx)(x.a,{alignSelf:"center",margin:{right:"medium"},children:Object(u.jsx)(Mt,{bases:a,color:"light-1"})}),n?Object(u.jsx)(xt,{}):Object(u.jsx)(E.b,{path:"/teams",children:Object(u.jsx)(R.a,{plain:!1,disabled:!r,onClick:c,margin:{right:"small"},children:"Start Game"})}),Object(u.jsx)(R.a,{margin:{left:"small"},icon:Object(u.jsx)(S.a,{}),plain:!1,alignSelf:"center",color:"light-1",ref:i,onClick:d}),l&&i.current&&Object(u.jsx)(C.a,{target:i.current,align:{top:"bottom",right:"right"},children:Object(u.jsx)(Gt,{})})]})]})},Wt=n(175),zt=n(157),Zt=n(158),Kt=n(168),qt=n(153),Vt=n(174),Jt=n(154),Qt=Object(j.createContext)(!1),Xt=function(e){var t=e.label,n=e.preview,r=e.children,a=Object(j.useContext)(Qt);return Object(u.jsx)(Vt.a,{header:Object(u.jsxs)(x.a,{direction:"row",justify:"between",pad:"small",round:"4px",background:a?void 0:"brand",children:[Object(u.jsx)(w.a,{weight:"bold",children:t}),!a&&Object(u.jsxs)(u.Fragment,{children:[n,Object(u.jsx)(Jt.a,{})]})]}),children:r})},$t=function(e){var t=e.children,n=j.Children.count(t),r=Object(j.useState)(_.a.range(n)),a=Object(m.a)(r,2),c=a[0],i=a[1],s=Object(j.useCallback)((function(e){i((function(t){return e.length>t.length?_.a.sortBy(e).slice(1):t}))}),[i]);return Object(u.jsx)(qt.a,{multiple:!0,activeIndex:c,onActive:s,gap:"small",children:j.Children.map(t,(function(e,t){return Object(u.jsx)(Qt.Provider,{value:c.includes(t),children:e},t)}))})},en=n(30),tn=function(e){return e.prompts.contactChoice},nn=function(e){return e.prompts.fielderChoice},rn=function(e){return e.prompts.outOnPlayChoices},an=function(e){return e.prompts.sacFlyRunsScoredChoice},cn=function(e,t){var n,r;return Object(T.a)({kind:"plateAppearance",type:t,contactType:null===(n=tn(e))||void 0===n?void 0:n.contactType,fieldedBy:null===(r=nn(e))||void 0===r?void 0:r.position,runnersOutOnPlay:rn(e),runsScoredOnSacFly:an(e)},function(e){var t={},n={};return _.a.forEach(e,(function(e,r){e.attemptedAdvance&&(e.successfulAdvance?t[r]=e.endBase:n[r]=e.endBase)})),{basesTaken:t,outsOnBasepaths:n}}(function(e){return e.prompts.runnerChoices}(e)))},sn=function(){var e=Object(j.useContext)(Rn),t=pt((function(t){return function(e,t){var n=cn(e,t),r=Object(en.a)(function(e){return e.game.present}(e),(function(e){return pe(e,n)})),a=r.gameHistory,c=r.runners,i=r.outs;return{runners:c,runnersScored:_.a.last(a).runnersScored,outs:i}}(t,e)})),n=t.runners,r=t.runnersScored.length,a=t.outs;return Object(u.jsxs)(x.a,{direction:"row",align:"center",alignSelf:"center",gap:"medium",children:[Object(u.jsx)(w.a,{weight:"bold",children:"Preview"}),Object(u.jsxs)(x.a,{round:!0,direction:"row",align:"center",gap:"small",border:!!r,pad:r?"xsmall":void 0,children:[Object(u.jsxs)(x.a,{round:!0,direction:"row",align:"center",gap:"small",background:"brand",pad:"small",children:[Object(u.jsx)(Mt,{bases:n}),Object(u.jsx)(w.a,{children:3===a?"Inning over":"".concat(a," out").concat(1!==a?"s":"")})]}),!!r&&Object(u.jsxs)(w.a,{children:[r," ",r>1?"runs score":"run scores","."]})]})]})},on=function(e){var t=e.options,n=e.multiple,r=e.value,a=e.onChange,c=Object(L.a)(e,["options","multiple","value","onChange"]),i=Object(j.useCallback)((function(e){return n?r.includes(e):e===r}),[n,r]),s=Object(j.useCallback)((function(e){return function(){n&&_.a.isArray(r)?a(r.includes(e)?r.filter((function(t){return t!==e})):r.concat(e)):a(e)}}),[n,r,a]);return Object(u.jsx)(x.a,Object(T.a)(Object(T.a)({direction:"row",round:!0,border:!0,overflow:"hidden"},c),{},{children:t.map((function(e,n){var r,a,c;_.a.isObject(e)&&"label"in e?(r=e.label,a=e.value,c=e.negative):(r=a=e,c=!1);var o=i(a);return Object(u.jsx)(x.a,{flex:!0,width:"string"===typeof r&&r.length<4?"xxsmall":"xsmall",onClick:s(a),background:o?"brand":c?"status-critical-light":void 0,hoverIndicator:!o,pad:"small",align:"center",justify:"center",border:n>0?{side:"left",size:"1px"}:void 0,children:Object(u.jsx)(w.a,{textAlign:"center",children:r})},"".concat(n,"_of_").concat(t.length))}))}))},ln={runnerChoices:{},outOnPlayChoices:[],sacFlyRunsScoredChoice:1},un=Object(St.b)({name:"prompt",initialState:ln,reducers:{setRunnerChoice:function(e,t){var n=t.payload;e.runnerChoices[n.runnerId]=n.option},clearRunnerChoice:function(e,t){var n=t.payload;delete e.runnerChoices[n]},setContactChoice:function(e,t){var n=t.payload;e.contactChoice=n},clearContactChoice:function(e){delete e.contactChoice},setFielderChoice:function(e,t){var n=t.payload;e.fielderChoice=n},clearFielderChoice:function(e){delete e.fielderChoice},setOutOnPlayChoices:function(e,t){var n=t.payload;e.outOnPlayChoices=n},clearOutOnPlayChoices:function(e){e.outOnPlayChoices=[]},setSacFlyRunsScoredChoice:function(e,t){var n=t.payload;e.sacFlyRunsScoredChoice=n},resetSacFlyRunsScoredChoice:function(e){e.sacFlyRunsScoredChoice=1},clearPrompt:function(){return ln}}}),jn=un.reducer,On=un.actions,dn=jn,bn=function(e){var t=e.options,n=(e.required,ft());Object(j.useEffect)((function(){return function(){n(On.clearContactChoice())}}),[n]);var r=pt(tn),a=Object(j.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e.id}}))}),[t]),c=Object(j.useCallback)((function(e){n(On.setContactChoice(t[e]))}),[n,t]);return Object(u.jsx)(on,{options:a,value:null===r||void 0===r?void 0:r.id,onChange:c})},fn=function(e){var t=e.options,n=e.showTitle,r=void 0===n||n,a=ft();Object(j.useEffect)((function(){return function(){a(On.clearFielderChoice())}}),[a]);var c=pt(nn),i=Object(j.useMemo)((function(){return t.map((function(e){return{label:e.label,value:e.id}}))}),[t]),s=Object(j.useCallback)((function(e){return a(On.setFielderChoice(t[e]))}),[a,t]);return Object(u.jsxs)(x.a,{flex:!0,children:[r&&Object(u.jsx)(vt.a,{level:4,margin:{top:"none",bottom:"xsmall"},alignSelf:"center",children:"Hit to"}),Object(u.jsx)(on,{options:i,value:null===c||void 0===c?void 0:c.id,onChange:s})]})},pn=function(e){var t=e.contactOptions,n=e.fielderOptions;return Object(u.jsx)(Xt,{label:"Contact",preview:"",children:Object(u.jsxs)(x.a,{gap:"small",children:[Object(u.jsx)(bn,Object(T.a)({},t)),n&&Object(u.jsx)(fn,Object(T.a)(Object(T.a)({},n),{},{showTitle:!1}))]})})},hn=function e(t){var n=t.runnerId,r=t.options,a=t.defaultOption,c=t.getTrailingRunnerOptions,i=Object(f.c)();Object(j.useEffect)((function(){return i(On.setRunnerChoice({runnerId:n,option:r[a]})),function(){i(On.clearRunnerChoice(n))}}),[i,n,r,a]);var s=pt((function(e){return function(e,t){return e.prompts.runnerChoices[t]}(e,n)})),o=pt((function(e){return Y(e,n)})),l=Object(j.useMemo)((function(){return r.map((function(e){return{label:Ee(e),value:e.id,negative:e.attemptedAdvance&&!e.successfulAdvance}}))}),[r]),O=Object(j.useMemo)((function(){return s&&(null===c||void 0===c?void 0:c(s))}),[s,c]),d=Object(j.useCallback)((function(e){return i(On.setRunnerChoice({runnerId:n,option:r[e]}))}),[i,n,r]);return Object(u.jsxs)(x.a,{gap:"small",children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(w.a,{alignSelf:"center",style:{whiteSpace:"nowrap"},children:o}),Object(u.jsx)(on,{flex:!0,options:l,value:null===s||void 0===s?void 0:s.id,onChange:d})]}),O&&Object(u.jsx)(e,Object(T.a)({},O))]})},mn=function(e){var t=e.contactOptions,n=e.runnerOptions,r=e.getNextOptions,a=e.setCanSubmit;Object(j.useEffect)((function(){return a(!0)}),[a]);var c=pt(tn),i=Object(j.useMemo)((function(){return c&&r(c.contactType)}),[c,r]);return Object(u.jsxs)(x.a,{gap:"medium",children:[Object(u.jsxs)($t,{children:[Object(u.jsx)(pn,{contactOptions:t,fielderOptions:i}),n&&Object(u.jsx)(Xt,{label:"Runners",preview:"",children:Object(u.jsx)(hn,Object(T.a)({},n))})]}),Object(u.jsx)(sn,{})]})},gn=function(e){var t=e.contactOptions,n=e.getNextOptions,r=e.setCanSubmit,a=pt(tn);Object(j.useEffect)((function(){return r(!!a)}),[a,r]);var c=Object(j.useMemo)((function(){var e;return null!==(e=a&&n(a.contactType))&&void 0!==e?e:{}}),[a,n]),i=c.fielderOptions,s=c.runnerOptions;return Object(u.jsxs)(x.a,{gap:"medium",children:[Object(u.jsxs)($t,{children:[Object(u.jsx)(pn,{contactOptions:t,fielderOptions:i}),s&&Object(u.jsx)(Xt,{label:"Runners",preview:"",children:Object(u.jsx)(hn,Object(T.a)({},s))})]}),!!a&&Object(u.jsx)(sn,{})]})},xn=function(e){var t=e.fielderOptions,n=e.runnersScoredOptions,r=e.getNextOptions,a=e.setCanSubmit,c=ft(),i=pt(an);Object(j.useEffect)((function(){return a(!0)}),[a]);var s=Object(j.useMemo)((function(){return null===r||void 0===r?void 0:r(i)}),[r,i]),o=Object(j.useCallback)((function(e){c(On.setSacFlyRunsScoredChoice(e))}),[c]);return Object(u.jsxs)(x.a,{gap:"medium",margin:{top:"medium"},children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[n&&Object(u.jsxs)(x.a,{gap:"xsmall",flex:!0,children:[Object(u.jsx)(vt.a,{level:4,margin:"none",alignSelf:"center",children:"Runs batted in"}),Object(u.jsx)(on,{options:n,value:i,onChange:o})]}),t&&Object(u.jsx)(fn,Object(T.a)({},t))]}),s&&Object(u.jsx)(hn,Object(T.a)({},s)),Object(u.jsx)(sn,{})]})},vn=function(e){var t=e.multiple,n=e.runnerIds;return t?n.length>2:n.length>1},En=function(e){var t=e.showTitle,n=void 0===t||t,r=Object(L.a)(e,["showTitle"]),a=r.multiple,c=r.runnerIds,i=ft(),s=!vn(r);Object(j.useEffect)((function(){s&&i(a?On.setOutOnPlayChoices(c):On.setOutOnPlayChoices([c[0]]))}),[a,s,c,i]);var o,l=pt(rn),O=Object(j.useCallback)((function(e){i(On.setOutOnPlayChoices([e]))}),[i]),d=Object(j.useCallback)((function(e){i(On.setOutOnPlayChoices(e.length>2?_.a.slice(e,1):e))}),[i]),b=pt((function(e){return function(e,t){return t.map((function(t){return{label:Y(e,t),value:t}}))}(e,c)}));return s?null:(o=a?Object(u.jsx)(on,{multiple:!0,options:b,value:l,onChange:d}):Object(u.jsx)(on,{options:b,value:l[0],onChange:O}),Object(u.jsxs)(x.a,{children:[n&&Object(u.jsxs)(vt.a,{level:4,margin:{top:"none",bottom:"xsmall"},alignSelf:"center",children:[a?"Runners":"Runner"," out on play"]}),o]}))},yn=function(e){var t=e.fielderOptions,n=e.outOnPlayOptions,r=e.getNextOptions,a=e.setCanSubmit,c=pt(rn),i=Object(m.a)(c,1)[0],s=!(n.runnerIds.length>1)||!!i;Object(j.useEffect)((function(){return a(s)}),[s,a]);var o=Object(j.useMemo)((function(){return i&&(null===r||void 0===r?void 0:r(i))}),[r,i]);return Object(u.jsxs)(x.a,{gap:"medium",margin:{top:"small"},children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",align:"center",children:[Object(u.jsx)(fn,Object(T.a)({},t)),Object(u.jsx)(En,Object(T.a)({},n))]}),o&&Object(u.jsx)(hn,Object(T.a)({},o)),s&&Object(u.jsx)(sn,{})]})},In=function(e){var t=e.contactOptions,n=e.getNextOptions,r=e.setCanSubmit,a=pt(tn),c=pt(rn),i=Object(j.useMemo)((function(){return a&&n(a.contactType)}),[n,a]),s=!!i&&(!i.outOnPlayOptions||c.length===(i.outOnPlayOptions.multiple?2:1)),o=!!a&&s;Object(j.useEffect)((function(){return r(o)}),[o,r]);var l=Object(j.useMemo)((function(){var e;return i&&!!c.length&&(null===(e=i.getNextOptions)||void 0===e?void 0:e.call(i,c))}),[i,c]);return Object(u.jsxs)(x.a,{gap:"medium",children:[Object(u.jsxs)($t,{children:[Object(u.jsx)(pn,{contactOptions:t,fielderOptions:null===i||void 0===i?void 0:i.fielderOptions}),(null===i||void 0===i?void 0:i.outOnPlayOptions)&&(vn(i.outOnPlayOptions)?Object(u.jsx)(Xt,{label:"Runner".concat(i.outOnPlayOptions.multiple?"s":""," out on play"),preview:"",children:Object(u.jsx)(En,Object(T.a)(Object(T.a)({},i.outOnPlayOptions),{},{showTitle:!1}))}):Object(u.jsx)(En,Object(T.a)({},i.outOnPlayOptions))),l&&Object(u.jsx)(Xt,{label:"Runners",preview:"",children:Object(u.jsx)(hn,Object(T.a)({},l))})]}),o&&Object(u.jsx)(sn,{})]})},Rn=Object(j.createContext)(s.OUT),Cn=function(e){var t,n=e.paType,r=e.onSubmit,a=e.onCancel,c=ft(),i=Object(j.useState)(!1),s=Object(m.a)(i,2),o=s[0],l=s[1],O=Object(j.useMemo)((function(){return it(n)}),[n]),d=pt(O),b=pt(ze);if(Object(j.useEffect)((function(){return function(){c(On.clearPrompt())}}),[c]),Object(j.useEffect)((function(){d||r()}),[d,r]),!d)return null;switch(d.kind){case"hit":t=Object(u.jsx)(mn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"out":t=Object(u.jsx)(gn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"sacrificeFly":t=Object(u.jsx)(xn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"fieldersChoice":t=Object(u.jsx)(yn,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}));break;case"doublePlay":t=Object(u.jsx)(In,Object(T.a)(Object(T.a)({},d),{},{setCanSubmit:l}))}return Object(u.jsx)(Kt.a,{responsive:!1,children:Object(u.jsxs)(x.a,{pad:"medium",children:[Object(u.jsxs)(vt.a,{level:3,margin:"none",alignSelf:"center",children:[ge(n)," by ",b]}),Object(u.jsx)(Rn.Provider,{value:n,children:t}),Object(u.jsxs)(x.a,{direction:"row",margin:{top:"medium"},justify:"between",gap:"small",children:[Object(u.jsx)(R.a,{color:"status-critical",label:"Cancel",onClick:a}),o&&Object(u.jsx)(R.a,{color:"status-ok",label:"Record ".concat(ge(n)),onClick:r})]})]})})},Sn=[{color:"neutral-4",types:[s.OUT,s.FIELDERS_CHOICE,s.DOUBLE_PLAY]},{color:"neutral-3",types:[s.SINGLE,s.DOUBLE,s.TRIPLE,s.HOMERUN]},{color:"neutral-1",types:[s.WALK,s.SACRIFICE_FLY]}],Tn=function(){var e=ft(),t=pt(et),n=Object(j.useState)(),r=Object(m.a)(n,2),a=r[0],c=r[1],i=Object(j.useCallback)((function(){a&&e((function(e,t){e(Bt.recordGameEvent(cn(t(),a)))})),c(void 0)}),[e,a,c]),s=Object(j.useCallback)((function(){c(void 0)}),[c]);return Object(u.jsxs)(x.a,{gridArea:"reporter",align:"center",justify:"center",children:[Sn.map((function(e){var n=e.color,r=e.types;return Object(u.jsx)(x.a,{direction:"row",align:"center",justify:"center",alignContent:"center",wrap:!0,children:r.filter((function(e){return t.includes(e)})).map((function(e){return Object(u.jsx)(R.a,{color:n,label:ge(e),onClick:function(){return c(e)},margin:"small"},e)}))})})),a&&Object(u.jsx)(Cn,{paType:a,onSubmit:i,onCancel:s})]})};function Ln(){return(Ln=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function kn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Nn=j.createElement("defs",null,j.createElement("path",{d:"M24 45.21L2.79 24L24 2.79L45.21 24L24 45.21Z",id:"b1pwy3kSYG"}),j.createElement("clipPath",{id:"clipa1ontZhQmS"},j.createElement("use",{xlinkHref:"#b1pwy3kSYG",opacity:1}))),wn=j.createElement("g",null,j.createElement("g",null,j.createElement("g",null,j.createElement("use",{xlinkHref:"#b1pwy3kSYG",opacity:1,fill:"#d4ee91",fillOpacity:0}),j.createElement("g",{clipPath:"url(#clipa1ontZhQmS)"},j.createElement("use",{xlinkHref:"#b1pwy3kSYG",opacity:1,fillOpacity:0,stroke:"#000000",strokeWidth:2,strokeOpacity:1})))));function Pn(e,t){var n=e.title,r=e.titleId,a=kn(e,["title","titleId"]);return j.createElement("svg",Ln({preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48",width:24,height:24,ref:t,"aria-labelledby":r},a),n?j.createElement("title",{id:r},n):null,Nn,wn)}var An=j.forwardRef(Pn);n.p;function Fn(){return(Fn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Bn(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var Dn=j.createElement("defs",null,j.createElement("path",{d:"M7 24L24 41L41 24L41 7L7 7L7 24Z",id:"a3jEO7oPWR"}),j.createElement("clipPath",{id:"clipb1aIxcMs8Z"},j.createElement("use",{xlinkHref:"#a3jEO7oPWR",opacity:1}))),Hn=j.createElement("g",null,j.createElement("g",null,j.createElement("g",null,j.createElement("g",{clipPath:"url(#clipb1aIxcMs8Z)"},j.createElement("use",{xlinkHref:"#a3jEO7oPWR",opacity:1,fillOpacity:0,stroke:"#000000",strokeWidth:2,strokeOpacity:1})))));function _n(e,t){var n=e.title,r=e.titleId,a=Bn(e,["title","titleId"]);return j.createElement("svg",Fn({preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 48 48",width:24,height:24,ref:t,"aria-labelledby":r},a),n?j.createElement("title",{id:r},n):null,Dn,Hn)}var Gn=j.forwardRef(_n),Un=(n.p,n(155)),Mn=n(156),Yn=function(e){var t=e.type,n="";switch(t){case s.WALK:n="neutral-1";break;case s.OUT:case s.FIELDERS_CHOICE:case s.DOUBLE_PLAY:n="neutral-4";break;default:n="neutral-3"}return Object(u.jsx)(x.a,{round:{size:"2px"},background:n,alignSelf:"center",pad:{vertical:"xxsmall",horizontal:"xsmall"},flex:!1,children:Object(u.jsx)(w.a,{size:"xsmall",children:ge(t).toUpperCase()})})},Wn=function(e){var t=Object(m.a)(e.score,2),n=t[0],r=t[1];return Object(u.jsx)(x.a,{round:{size:"2px"},border:!0,alignSelf:"start",pad:{vertical:"xxsmall",horizontal:"xsmall"},flex:!1,margin:{top:"xsmall"},children:Object(u.jsxs)(w.a,{size:"xsmall",children:["AWAY ",n," - HOME ",r]})})},zn=function(e){var t=e.description,n=e.outs,r=e.score,a=e.type;return Object(u.jsxs)(x.a,{pad:{vertical:"small"},direction:"row",justify:"between",gap:"xsmall",children:[Object(u.jsxs)(x.a,{children:[Object(u.jsxs)(w.a,{children:[Object(u.jsx)(w.a,{children:t}),n&&Object(u.jsxs)(w.a,{weight:"bold",margin:{left:"xsmall"},children:[n," ",n>1?"outs":"out"," "]})]}),r&&Object(u.jsx)(Wn,{score:r})]}),a&&Object(u.jsx)(Yn,{type:a})]})},Zn=function(e){var t;return(t={},Object(q.a)(t,i.PITCHER,"pitcher"),Object(q.a)(t,i.CATCHER,"catcher"),Object(q.a)(t,i.FIRST_BASE,"first baseman"),Object(q.a)(t,i.SECOND_BASE,"second baseman"),Object(q.a)(t,i.THIRD_BASE,"third baseman"),Object(q.a)(t,i.SHORTSTOP,"shortstop"),Object(q.a)(t,i.LEFT_FIELD,"left fielder"),Object(q.a)(t,i.CENTER_FIELD,"center fielder"),Object(q.a)(t,i.LEFT_CENTER,"left center fielder"),Object(q.a)(t,i.RIGHT_CENTER,"right center fielder"),Object(q.a)(t,i.RIGHT_FIELD,"right fielder"),t)[e]},Kn=function(e){var t;return(t={},Object(q.a)(t,o.NONE,"strikes"),Object(q.a)(t,o.GROUNDER,"grounds"),Object(q.a)(t,o.LAZY_FLY,"flies"),Object(q.a)(t,o.LINE_DRIVE,"lines"),Object(q.a)(t,o.LONG_FLY,"flies"),Object(q.a)(t,o.POPUP,"pops"),t)[e]},qn=function(e){var t;return null===e?"home":(t={},Object(q.a)(t,c.FIRST,"1st base"),Object(q.a)(t,c.SECOND,"2nd base"),Object(q.a)(t,c.THIRD,"3rd base"),t)[e]},Vn=function(e,t){return"{".concat(e,"} out at ").concat(he(t),".")},Jn=function(e){var t,n,r,a=e.gameState,i=e.event,l=e.runnersScored,u=e.runnersAfter,j=e.scoreAfter,O=[],d=[],b=function(e){O.push([].concat(Object(K.a)(e),["."]).join(""))};if("stolenBaseAttempt"===i.kind){var f=ae(te(a.runners,i.runnerId));i.success?O.push("{".concat(i.runnerId,"} steals ").concat(qn(f),".")):(O.push("{".concat(i.runnerId,"} is caught stealing ").concat(qn(f),".")),n=a.outs+1),d.push(i.runnerId)}else{var p=a.atBat,h=a.runners,m=a.outs,g=i.fieldedBy,x=i.contactType,v=i.runnersOutOnPlay,E=i.basesTaken,y=i.outsOnBasepaths;d.push(p);var I=g&&"".concat(Zn(g)," {").concat(g,"}");switch(i.type){case s.WALK:O.push("{".concat(p,"} walks."));break;case s.FIELDERS_CHOICE:var R=["{".concat(p,"} hits into a fielder's choice")];I&&(R.push(", fielded by ".concat(I)),t=i.fieldedBy),b(R),O.push(Vn(v[0],ae(te(h,v[0])))),d.push(v[0]),n=m+1;break;case s.SACRIFICE_FLY:var C=["{".concat(p,"} out on a sacrifice fly")];I&&(C.push(" to ".concat(I)),t=g),b(C),n=m+1;break;case s.DOUBLE_PLAY:O.push("{".concat(p,"} ").concat(Kn(x)," into a double play.")),v.forEach((function(e){var t;if(e===p)t=c.FIRST;else{var n=te(h,e);t=x===o.GROUNDER?ae(n):n}x!==o.GROUNDER&&e===p||(O.push(Vn(e,t)),d.push(e))})),n=m+2;break;case s.OUT:var S=["{".concat(p,"} ").concat(Kn(x)," out")];x!==o.NONE&&I&&(S.push(" to ".concat(I)),t=g),b(S),n=m+1;break;case s.HOMERUN:case s.TRIPLE:case s.DOUBLE:case s.SINGLE:var T=[];if(i.type===s.HOMERUN&&3===_.a.size(h)?T.push("{".concat(p,"} hits a grand slam")):T.push("{".concat(p,"} ").concat(function(e){var t;return(t={},Object(q.a)(t,s.SINGLE,"singles"),Object(q.a)(t,s.DOUBLE,"doubles"),Object(q.a)(t,s.TRIPLE,"triples"),Object(q.a)(t,s.HOMERUN,"homers"),t)[e]}(i.type))),x&&T.push(" on a ".concat(ve(x).toLowerCase())),g){var L=i.type===s.HOMERUN?Zn(g).slice(0,-2):I;T.push(" to ".concat(L)),t=g}b(T)}l.length&&(l.forEach((function(e){e!==p&&(O.push("{".concat(e,"} scores.")),d.push(e))})),r=j),Oe(u,(function(e,t){h[t]!==e&&e!==p&&(O.push("{".concat(e,"} to ").concat(he(t),".")),d.push(e))})),_.a.forEach(y,(function(e,t){var r;O.push("{".concat(t,"} thrown out at ").concat(he(e),".")),d.push(t),n=(null!==(r=n)&&void 0!==r?r:m)+1})),p in E&&O.push("{".concat(p,"} to ").concat(he(E[p])," on the throw."))}return{description:O.join(" "),playerIds:d,position:t,newNumOuts:n,newScore:r}},Qn=function(e,t,n){var r=Jn(e),a=r.description,c=r.playerIds,i=r.position,s=r.newNumOuts,o=r.newScore,l=a;return i&&(l=a.replace(new RegExp("{".concat(i,"}")),U(t(Ze(n,1-e.gameState.halfInning,i))))),c.forEach((function(e){l=l.replace(new RegExp("{".concat(e,"}"),"g"),U(t(e)))})),{description:l,outs:s,score:o,type:"plateAppearance"===e.event.kind?e.event.type:void 0}},Xn=Object(D.a)(st,Z,Ae,(function(e,t,n){return e.reduce((function(e,t){var n=t.gameState,r=n.inning,a=n.halfInning;if(e.length){var c=_.a.last(e);c.inning!==r||c.halfInning!==a?e.push({inning:r,halfInning:a,plays:[t]}):c.plays.push(t)}else e.push({inning:r,halfInning:a,plays:[t]});return e}),[]).map((function(e){return{inning:e.inning,halfInning:e.halfInning,plays:e.plays.map((function(e){return Qn(e,t,n)}))}}))})),$n=Object(D.a)(Xn,(function(e){return e.map((function(e){return{inning:e.inning,halfInning:e.halfInning,plays:e.plays.filter((function(e){return!!e.score}))}})).filter((function(e){return e.plays.length}))})),er=Object(D.a)(st,Z,Ae,(function(e,t,n){var r=_.a.last(e);return r&&Qn(r,t,n)})),tr=(Object(D.a)(Ot,Z,(function(e,t){var n=_.a.first(e),r=_.a.last(null===n||void 0===n?void 0:n.gameHistory);return r&&Qn(r,t,n.teams)})),function(e){var t=e.target,n=pt(er),r=Object(j.useState)(!1),a=Object(m.a)(r,2),c=a[0],i=a[1],s=Object(j.useRef)(-1);return Object(j.useEffect)((function(){n&&(i(!0),clearTimeout(s.current),s.current=window.setTimeout((function(){i(!1)}),5e3))}),[n,i]),Object(u.jsx)(u.Fragment,{children:n&&c&&Object(u.jsx)(Kt.a,{plain:!0,position:"bottom-left",modal:!1,target:t,margin:{left:"medium",bottom:"medium"},children:Object(u.jsx)(Un.a.Extend,{value:{global:{size:{medium:"324px"}}},children:Object(u.jsx)(Mn.a,{background:"light-1",pad:"small",width:"medium",children:Object(u.jsx)(zn,Object(T.a)({},n))})})})})}),nr=function(e){var t=e.occupied;return Object(u.jsx)(Ut.a,{size:"large",color:t?"brand":void 0,fillOpacity:t?1:void 0,children:Object(u.jsx)(An,{})})},rr=function(){return Object(u.jsx)(Ut.a,{size:"large",children:Object(u.jsx)(Gn,{})})},ar=function(){var e=ft(),t=pt(Xe),n=pt(We),r=n[c.FIRST],a=n[c.SECOND],i=n[c.THIRD],s=pt(ze),o=pt(at),l=pt(ct),O=pt(dt),d=pt(bt),b=Object(j.useCallback)((function(){e(Tt.ActionCreators.undo())}),[e]),f=Object(j.useCallback)((function(){e(Tt.ActionCreators.redo())}),[e]),p=Object(j.useRef)(null);return t?Object(u.jsxs)(x.a,{fill:!0,children:[Object(u.jsxs)(x.a,{flex:!0,ref:p,children:[Object(u.jsxs)(Wt.a,{fill:!0,rows:["xsmall","auto","xsmall"],columns:["small","auto","small"],areas:[["undo-redo","second-base","."],["third-base","reporter","first-base"],[".","home-plate","."]],children:[Object(u.jsx)("style",{scoped:!0,children:'\n          svg[fill-opacity="1"] use {\n            fill-opacity: 1;\n          }\n        '}),Object(u.jsxs)(x.a,{gridArea:"undo-redo",direction:"row",margin:"medium",gap:"small",children:[Object(u.jsx)(R.a,{icon:Object(u.jsx)(zt.a,{}),disabled:!O,onClick:b}),Object(u.jsx)(R.a,{icon:Object(u.jsx)(Zt.a,{}),disabled:!d,onClick:f})]}),Object(u.jsxs)(x.a,{gridArea:"first-base",direction:"row",justify:"end",align:"center",children:[Object(u.jsx)(w.a,{textAlign:"center",children:r}),Object(u.jsx)(nr,{occupied:!!r})]}),Object(u.jsxs)(x.a,{gridArea:"second-base",align:"center",children:[Object(u.jsx)(nr,{occupied:!!a}),Object(u.jsx)(w.a,{children:a})]}),Object(u.jsxs)(x.a,{gridArea:"third-base",direction:"row",align:"center",children:[Object(u.jsx)(nr,{occupied:!!i}),Object(u.jsx)(w.a,{textAlign:"center",children:i})]}),Object(u.jsxs)(x.a,{gridArea:"home-plate",justify:"end",align:"center",children:[Object(u.jsx)(w.a,{weight:"bold",size:"xlarge",children:s}),Object(u.jsx)(rr,{})]}),Object(u.jsx)(Tn,{})]}),p.current&&Object(u.jsx)(tr,{target:p.current})]}),Object(u.jsxs)(x.a,{border:{side:"top"},direction:"row",justify:"around",pad:"medium",children:[Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(w.a,{children:"On Deck"}),Object(u.jsx)(w.a,{weight:"bold",children:o})]}),Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(w.a,{children:"In the Hole"}),Object(u.jsx)(w.a,{weight:"bold",children:l})]})]})]}):Object(u.jsx)(E.a,{to:"/teams"})},cr=n(44),ir=n(169),sr=n(166),or=n(160),lr=function(e){var t=e.playerId,n=e.index,r=e.team,a=ft(),c=pt((function(e){return function(e,t){var n=M(e,t);return n?"".concat(n.firstName," ").concat(n.lastName):""}(e,t)})),i=pt((function(e){return Ke(e,t)})),s=pt((function(e){return function(e,t){return ee(Ae(e)[t])}(e,r)})),o=Object(j.useMemo)((function(){return s.map((function(e){return{position:e,label:me(e)}}))}),[s]),l=Object(j.useCallback)((function(){a(Bt.removePlayerFromGame(t))}),[t,a]),O=Object(j.useCallback)((function(e){var n=e.value;a(Bt.changePlayerPosition({playerId:t,position:n}))}),[a,t]);return Object(u.jsx)(cr.b,{draggableId:t,index:n,children:function(e){var t=e.innerRef,n=e.draggableProps,r=e.dragHandleProps;return Object(u.jsxs)(x.a,Object(T.a)(Object(T.a)(Object(T.a)({ref:t},n),r),{},{direction:"row",height:"xxsmall",align:"center",justify:"between",children:[Object(u.jsx)(w.a,{margin:{right:"auto"},children:c}),Object(u.jsx)(Un.a.Extend,{value:{global:{size:{xsmall:"108px"}}},children:Object(u.jsx)(x.a,{width:"xsmall",margin:{right:"small"},children:Object(u.jsx)(sr.a,{value:i,options:o,labelKey:"label",valueKey:{key:"position",reduce:!0},onChange:O})})}),Object(u.jsx)(R.a,{plain:!1,icon:Object(u.jsx)(or.a,{size:"small",color:"status-critical"}),color:"status-critical",onClick:l})]}))}})},ur=n(165),jr={atBats:0,hits:0,doubles:0,triples:0,homeRuns:0,walks:0,stolenBases:0,caughtStealing:0,runsBattedIn:0,runsScored:0,strikeouts:0,sacrificeFlies:0,groundIntoDoublePlays:0,leftOnBase:0},Or=Object(St.b)({name:"players",initialState:{},reducers:{addPlayer:{reducer:function(e,t){var n,r,a=t.payload;n=a,r=e,_.a.some(r,(function(e){return e.firstName===n.firstName&&e.lastName===n.lastName}))||(e[a.playerId]=Object(T.a)(Object(T.a)({},a),{},{games:0,stats:jr}))},prepare:function(e){return{payload:Object(T.a)(Object(T.a)({},e),{},{playerId:Object(ur.a)()})}}}}}),dr=Or.actions,br=Or.reducer,fr=dr.addPlayer,pr=br,hr="new-player",mr=function(e){var t=e.team,n=ft(),r=pt((function(e){return function(e,t){return Ae(e)[t].lineup}(e,t)})),c=pt(Ve),i=Object(j.useState)(""),s=Object(m.a)(i,2),o=s[0],l=s[1],O=Object(j.useMemo)((function(){if(!o.length)return[];var e=c.filter((function(e){return e.firstName.toLowerCase().startsWith(o.toLowerCase())})).map((function(e){return{value:e.playerId,label:Object(u.jsx)(x.a,{pad:"small",children:Object(u.jsxs)(w.a,{children:[e.firstName," ",e.lastName]})})}}));return o.length>2?e.concat({label:Object(u.jsx)(x.a,{border:{color:"status-ok",size:"2px"},pad:"small",children:Object(u.jsxs)(w.a,{children:['Add new player "',o,'"']})}),value:hr}):e}),[c,o]),d=Object(j.useCallback)((function(e){var t=e.currentTarget;return l(t.value)}),[l]),b=Object(j.useCallback)((function(e){var r=e.suggestion;if(r){var a=r.value;if(a===hr)a=n(fr(function(e){var t=e.split(" "),n=Object(G.a)(t),r=n[0],a=n.slice(1);return{firstName:_.a.startCase(r),lastName:_.a.startCase(a.join(" "))}}(o))).payload.playerId;n(Bt.addPlayerToGame({team:t,playerId:a})),l("")}}),[t,n,o,l]);return Object(u.jsxs)(x.a,{flex:!0,children:[Object(u.jsx)(vt.a,{level:4,textAlign:"center",margin:{top:"none"},children:t===a.AWAY?"Away Team":"Home Team"}),Object(u.jsx)(ir.a,{placeholder:"Add Player",suggestions:O,value:o,onChange:d,onSelect:b}),Object(u.jsxs)(x.a,{direction:"row",margin:{top:"small"},children:[Object(u.jsx)(x.a,{width:"xxsmall",children:_.a.range(1,Math.max(9,r.length)+1).map((function(e){return Object(u.jsx)(x.a,{height:"xxsmall",justify:"center",children:Object(u.jsx)(w.a,{children:e})},e)}))}),Object(u.jsx)(cr.c,{droppableId:t===a.AWAY?"AWAY":"HOME",children:function(e){var n=e.innerRef,a=e.droppableProps,c=e.placeholder;return Object(u.jsxs)(x.a,Object(T.a)(Object(T.a)({ref:n},a),{},{flex:!0,children:[r.map((function(e,n){return Object(u.jsx)(lr,{playerId:e,index:n,team:t},e)})),c]}))}})]})]})},gr=function(){var e=ft(),t=Object(j.useCallback)((function(t){var n=t.source,r=t.destination;r&&e(Bt.movePlayer({fromTeam:a[n.droppableId],toTeam:a[r.droppableId],startIndex:n.index,endIndex:r.index}))}),[e]);return Object(u.jsx)(cr.a,{onDragEnd:t,children:Object(u.jsxs)(x.a,{direction:"row",justify:"around",pad:"medium",gap:"medium",flex:{shrink:0},basis:"auto",children:[Object(u.jsx)(mr,{team:a.AWAY}),Object(u.jsx)(mr,{team:a.HOME})]})})},xr=n(164),vr={atBats:0,hits:0,doubles:0,triples:0,homeRuns:0,walks:0,stolenBases:0,caughtStealing:0,runsBattedIn:0,runsScored:0,strikeouts:0,sacrificeFlies:0,groundIntoDoublePlays:0,leftOnBase:0},Er=Object(D.a)(st,Ae,(function(e,t){var n=function(e){var t={},n=function(e,n){e in t||(t[e]=Object(T.a)({},vr)),n(t[e])};return e.forEach((function(e){var t=e.gameState,r=e.event,a=e.runnersScored,c=e.runnersBattedIn;a.forEach((function(e){n(e,(function(e){e.runsScored++}))})),"stolenBaseAttempt"===r.kind?n(r.runnerId,(function(e){r.success?e.stolenBases++:e.caughtStealing++})):n(t.atBat,(function(e){if(e.runsBattedIn+=c.length,r.type===s.WALK)e.walks++;else if(r.type===s.SACRIFICE_FLY)e.sacrificeFlies++;else switch(e.atBats++,r.type){case s.SINGLE:e.hits++;break;case s.DOUBLE:e.hits++,e.doubles++;break;case s.TRIPLE:e.hits++,e.triples++;break;case s.HOMERUN:e.hits++,e.homeRuns++;break;case s.OUT:r.contactType===o.NONE&&e.strikeouts++,e.leftOnBase+=_.a.size(t.runners);break;case s.DOUBLE_PLAY:r.contactType===o.GROUNDER&&e.groundIntoDoublePlays++,e.leftOnBase+=_.a.size(t.runners)-1;break;case s.FIELDERS_CHOICE:e.leftOnBase+=_.a.size(t.runners)}}))})),t}(e);return t.map((function(e){return e.lineup.map((function(e,t){var r,a=null!==(r=n[e])&&void 0!==r?r:vr;return Object(T.a)(Object(T.a)({playerId:e,lineupSpot:t+1},a),_.a.mapValues(function(e){var t=e.hits/e.atBats,n=(e.hits+e.walks)/(e.atBats+e.walks+e.sacrificeFlies),r=(e.hits+e.doubles+2*e.triples+3*e.homeRuns)/e.atBats;return{battingAverage:t,onBasePercentage:n,sluggingPercentage:r,onBasePlusSlugging:n+r,isolatedPower:r-t}}(a),(function(e){return _.a.isNaN(e)?"---":function(e){var t=e.toFixed(3);return e>=1?t:t.slice(1)}(e)})))}))}))})),yr=function(e){var t=e.playerId,n=e.lineupSpot,r=pt((function(e){return Y(e,t)})),a=pt((function(e){return Ke(e,t)}));return Object(u.jsxs)(x.a,{direction:"row",align:"center",gap:"xsmall",children:[Object(u.jsx)(w.a,{size:"small",color:"dark-3",children:n}),Object(u.jsx)(w.a,{weight:"bold",style:{whiteSpace:"nowrap"},children:r}),Object(u.jsx)(w.a,{style:{fontStyle:"italic"},children:me(a)})]})},Ir=function(e){var t=e.rows,n=e.team;return Object(u.jsx)(Mn.a,{pad:"small",background:"light-1",margin:"small",children:Object(u.jsx)(xr.a,{margin:"small",columns:[{property:"playerId",header:Object(u.jsxs)(w.a,{children:[n===a.AWAY?"Away":"Home"," Batters"]}),primary:!0,render:function(e){var t=e.playerId,n=e.lineupSpot;return Object(u.jsx)(yr,{playerId:t,lineupSpot:n})}},{property:"atBats",header:"AB"},{property:"runsScored",header:"R"},{property:"hits",header:"H"},{property:"runsBattedIn",header:"RBI"},{property:"walks",header:"BB"},{property:"leftOnBase",header:"LOB"},{property:"battingAverage",header:"AVG"},{property:"onBasePlusSlugging",header:"OPS"}],data:t})})},Rr=function(){var e=pt(Xe),t=pt(Er),n=Object(m.a)(t,2),r=n[0],c=n[1];return e?Object(u.jsxs)(x.a,{flex:!0,direction:"row",wrap:!0,justify:"around",align:"center",children:[Object(u.jsx)(Ir,{rows:r,team:a.AWAY}),Object(u.jsx)(Ir,{rows:c,team:a.HOME})]}):Object(u.jsx)(E.a,{to:"/teams"})},Cr=n(161),Sr=n(162),Tr=function(e){var t=e.inning,n=e.halfInning,a=e.plays;return Object(u.jsxs)(Mn.a,{background:"light-1",children:[Object(u.jsx)(Cr.a,{background:"light-2",pad:"medium",children:Object(u.jsxs)(w.a,{children:[n===r.TOP?"Top":"Bottom"," ",ye(t)]})}),Object(u.jsx)(Sr.a,{pad:{horizontal:"medium",vertical:"small"},gap:"small",border:"between",children:a.map((function(e,t){return Object(u.jsx)(zn,Object(T.a)({},e),t)}))})]})},Lr=function(){var e=pt(Xe),t=pt($n),n=pt(Xn),r=pt(_e),a=Object(j.useState)(r),c=Object(m.a)(a,2),i=c[0],s=c[1],o=Object(j.useMemo)((function(){return n.filter((function(e){return e.inning===i}))}),[n,i]),l=Object(j.useCallback)((function(e){return function(){s(e)}}),[s]);return e?Object(u.jsxs)(x.a,{pad:"medium",flex:{shrink:0},basis:"auto",gap:"small",children:[Object(u.jsxs)(x.a,{direction:"row",justify:"between",children:[Object(u.jsx)(vt.a,{level:4,margin:"none",children:"Scoring"}),Object(u.jsx)(vt.a,{level:4,alignSelf:"end",margin:"none",children:"All Plays"})]}),Object(u.jsxs)(x.a,{direction:"row",gap:"small",children:[Object(u.jsx)(x.a,{gap:"small",basis:"0",flex:!0,children:t.map((function(e){return Object(u.jsx)(Tr,Object(T.a)({},e),"".concat(e.inning,"_").concat(e.halfInning))}))}),Object(u.jsxs)(x.a,{gap:"small",basis:"0",flex:!0,margin:{left:"small"},children:[!o.length&&Object(u.jsx)(w.a,{alignSelf:"center",children:"No plays yet this inning."}),o.map((function(e){return Object(u.jsx)(Tr,Object(T.a)({},e),"".concat(e.inning,"_").concat(e.halfInning))}))]}),Object(u.jsx)(Un.a.Extend,{value:{global:{size:{xxsmall:"32px"}}},children:Object(u.jsx)(x.a,{gap:"xsmall",flex:!1,children:_.a.range(1,r+1).map((function(e){return Object(u.jsx)(x.a,{round:{size:"4px"},border:{size:"small"},width:"xxsmall",height:"xxsmall",justify:"center",align:"center",hoverIndicator:!(e===i),background:e===i?"brand":void 0,onClick:l(e),children:Object(u.jsx)(w.a,{children:e})},e)}))})})]})]}):Object(u.jsx)(E.a,{to:"/teams"})},kr={global:{colors:{brand:"#1c5253","accent-3":"#C3DFE0","status-critical-light":"#ffcccc","status-ok-light":"#ccffed"},focus:{outline:{color:"transparent"}}},rangeInput:{track:{height:"6px",extend:{borderRadius:"3px"}}},accordion:{border:void 0}},Nr=["Sam Myers","Steven Chan","Cameron Walls","Carlos Ortega","Yukhi Yamashita","James Lockwood","Matthew Chinn","Jason Tong","Andrew Silva","Quincy Zhao","Dale Zelmon","Wynn Padula","Leland Bailey","Michael Cross","Brendan Wilson","Dan Keating","Max Bruk","Hector Franco","Mike Basta"],wr=function(){var e=ft(),t=pt(Qe),n=pt(De),r=Object(m.a)(n,2),a=r[0],c=r[1],i=pt(ot),s=pt(ut),o=Object(j.useCallback)((function(){e(Bt.extendGame())}),[e]),O=Object(j.useCallback)((function(){e(Bt.resetGame())}),[e]),d=Object(j.useCallback)((function(){e(Bt.fullResetGame())}),[e]);return t===l.IN_PROGRESS?Object(u.jsx)(E.a,{to:"/field"}):t===l.NOT_STARTED?Object(u.jsx)(E.a,{to:"/teams"}):Object(u.jsxs)(v.a,{flex:!0,background:"brand",justify:"center",align:"center",children:[Object(u.jsxs)(x.a,{align:"center",children:[Object(u.jsxs)(vt.a,{level:2,margin:{bottom:"small"},children:[a>c?"Away":"Home"," team wins!"]}),Object(u.jsxs)(vt.a,{margin:{bottom:"large"},children:[a," - ",c]})]}),Object(u.jsxs)(x.a,{gap:"small",children:[i<s&&Object(u.jsx)(R.a,{color:"light-1",plain:!1,label:"Play another inning",onClick:o}),Object(u.jsx)(R.a,{color:"status-ok",plain:!1,label:"New Game (same teams)",onClick:O}),Object(u.jsx)(R.a,{color:"status-ok",plain:!1,label:"New Game (reset teams)",onClick:d})]})]})},Pr=function(){var e,t=ft(),n=Object(E.h)().pathname,r=Object(E.g)(),a=pt($e);return e=function(){Nr.forEach((function(e){var n=e.split(" "),r=Object(m.a)(n,2),a=r[0],c=r[1];t(fr({firstName:a,lastName:c}))}))},Object(j.useEffect)(e,[]),Object(j.useEffect)((function(){a&&"/game-over"!==n&&r.replace("/game-over")}),[n,a,r]),Object(u.jsx)(g.a,{full:!0,theme:kr,children:Object(u.jsxs)(x.a,{height:"100%",children:[!a&&Object(u.jsx)(Yt,{}),Object(u.jsx)(v.a,{flex:!0,overflow:{vertical:"auto"},children:Object(u.jsxs)(E.d,{children:[Object(u.jsx)(E.b,{path:"/game-over",children:Object(u.jsx)(wr,{})}),Object(u.jsx)(E.b,{path:"/teams",children:Object(u.jsx)(gr,{})}),Object(u.jsx)(E.b,{path:"/field",children:Object(u.jsx)(ar,{})}),Object(u.jsx)(E.b,{path:"/box-score",children:Object(u.jsx)(Rr,{})}),Object(u.jsx)(E.b,{path:"/plays",children:Object(u.jsx)(Lr,{})}),Object(u.jsx)(E.b,{path:"/",children:Object(u.jsx)(E.a,{to:"/teams"})})]})})]})})},Ar=n(69),Fr=n(95),Br=n.n(Fr),Dr=Object(Ar.a)({key:"root",storage:Br.a},{game:Ht,players:pr,prompts:dn}),Hr=Object(St.a)({reducer:Dr,middleware:Object(St.c)({serializableCheck:!1,immutableCheck:!1})}),_r=Object(Ar.b)(Hr),Gr=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},Ur=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Mr(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(120);b.a.render(Object(u.jsx)(f.a,{store:Hr,children:Object(u.jsx)(h.a,{loading:null,persistor:_r,children:Object(u.jsx)(p.a,{children:Object(u.jsx)(O.a.StrictMode,{children:Object(u.jsx)(Pr,{})})})})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Ur?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Mr(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):Mr(t,e)}))}}(),Gr()}},[[121,1,2]]]);
//# sourceMappingURL=main.49ab5f8c.chunk.js.map